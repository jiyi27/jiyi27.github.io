---
title: JVM 运行时常量池 - 动态链接
date: 2025-02-05 08:50:26
categories:
 - 面试
tags:
 - 面试
 - 编译原理
 - java
---

在 JVM 内存分类

可以看到 JVM 对于内存就是 Run-Time Data Areas, 即用来放数据的地方, 分为 线程共享和线程私有, 而 我们平时讨论更倾向于站在堆栈传统角度对内存进行分类, 因为这样很容易理解, 

在 Java 中，**每一个 `.class` 文件**里都带有一张自己的**常量池**。这张常量池的存在是为了在字节码里用 “符号引用” 或 “常量” 来代替真正的类、方法、字段、字符串、数值等内容，并且让它们可以在 JVM 运行时 被 “解析” 成真实的类、方法或者对象引用。

为什么每个 `.class` 文件都有自己的常量池？

- 每个 `.class` 文件是一个**独立的编译单元**，它可能引用不同的类、不同的方法、不同的字符串、不同的常量
- 在 Java 编译阶段，`javac` 会为**该类**所需的一切外部引用（类、字段、方法等）和字面量**记录到它自己的常量池**中
- 当这个类加载到 JVM 里时候, 需要使用其中任何符号引用或常量，就会通过它**自己**的常量池去做解析



 字符串字面量：

例如 `"Hello World"`，在字节码中不会内嵌在指令里，而是以常量池中的一条 “CONSTANT_String_info” 项表示，并配合一个 “CONSTANT_Utf8_info” 项存储对应的 UTF-8 内容。