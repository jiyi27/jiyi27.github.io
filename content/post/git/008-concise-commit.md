---
title: Commit Message Guidelines
date: 2023-09-11 07:47:23
categories:
  - git
tags:
  - git
---

A properly formed git commit subject line should always be able to complete the following sentence:

If applied, this commit will *<your subject line here>*

## 1. Things to avoid when creating commits

- **Sending large new features in a single giant commit.**
- **Mixing two unrelated functional changes.**
  - Again the reviewer will find it harder to identify flaws if two unrelated changes are mixed together. If it becomes necessary to later revert a broken commit, the two unrelated changes will need to be untangled, with further risk of bug creation.
- **Mixing whitespace changes with functional code changes.**

```
If a code change can be split into a sequence of patches/commits, 
then it should be split. Less is not more. More is more.
```

## 2. Commit message format

Each commit message consists of a header, a body, and a footer.

```
<header>
<BLANK LINE>
<body>
<BLANK LINE>
<footer>
```

### 2.1. Commit message header

```
<type>(<scope>): <short summary>
  │       │             │
  │       │             └─⫸ Summary in present tense. Not capitalized. No period at the end.
  │       │
  │       └─⫸ Commit Scope: animations|bazel|benchpress|common|compiler|compiler-cli|core|
  │                          elements|forms|http|language-service|localize|platform-browser|
  │                          platform-browser-dynamic|platform-server|router|service-worker|
  │                          upgrade|zone.js|packaging|changelog|docs-infra|migrations|ngcc|ve|
  │                          devtools
  │
  └─⫸ Commit Type: build|ci|docs|feat|fix|perf|refactor|test

```

The `<type>` and `<summary>` fields are mandatory, the `(<scope>)` field is optional.

##### Type

Must be one of the following:

- **build**: Changes that affect the build system or external dependencies (example scopes: gulp, broccoli, npm)
- **ci**: Changes to our CI configuration files and scripts (examples: CircleCi, SauceLabs)
- **docs**: Documentation only changes
- **feat**: A new feature
- **fix**: A bug fix
- **perf**: A code change that improves performance
- **refactor**: A code change that neither fixes a bug nor adds a feature
- **test**: Adding missing tests or correcting existing tests

##### Summary

Use the summary field to provide a succinct description of the change:

- use the imperative, present tense: "change" not "changed" nor "changes"
  - This convention matches up with commit messages generated by commands like git merge and git revert.
- don't capitalize the first letter
- no dot (.) at the end

## 3. Information in commit messages

```
      commit 468e64d019f51d364afb30b0eed2ad09483e0b98
      Author: [removed]
      Date:   Mon Jun 18 16:07:37 2012 -0400

      Fix missing import in compute/utils.py

      Fixes bug 1014829
```

Problem: this does not mention what imports where missing and why they were needed. This info was actually in the bug tracker, and should have been copied into the commit message, so that it would provide a self-contained description. e.g.:

```
      Add missing import of 'exception' in compute/utils.py

      nova/compute/utils.py makes a reference to exception.NotFound,
      however exception has not been imported.
```

## 4. Common wrods

```
feat: add support for configuring libvirt VM clock and timers
feat: add libvirt version check, min 0.9.7
feat: update default policies for KVM guest PIT & RTC timers

perf: refine serialize
refactor: reformat code
refactor: rename type and namespace
refactor: add a comment to rpc.queue_get_for()

Add, Fix, Remove, Refactor, Reformat, Optimise and Update
Add = Create a capability e.g. feature, test, dependency.
Remove = Remove a capability e.g. feature, test, dependency.
Fix = Fix an issue e.g. bug, typo, accident, misstatement.
Refactor = A code change that MUST be just a refactoring.
Reformat = Refactor of formatting, e.g. omit whitespace.
Optimise = Refactor of performance, e.g. speed up code.
```

References:

- [Commit message guidelines](https://gist.github.com/robertpainsi/b632364184e70900af4ab688decf6f53)
- [Angular Commit Format Reference Sheet](https://gist.github.com/brianclements/841ea7bffdb01346392c)
- [knowbl/git-commit-message: Git commit message verbs used by Knowbl.](https://github.com/knowbl/git-commit-message)
- [Example list of verbs / first word to use in git commit title #git #commit #title](https://gist.github.com/scmx/411f6fea4ee3832806720d536a7d5d8f)