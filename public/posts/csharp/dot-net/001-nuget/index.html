<!DOCTYPE html>
<html lang="en">
<head>
  
    
    <title>NuGet Package Management :: 为霜的博客</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Create new project with dotnet CLI
$dotnet new list $dotnet new &lt;template&gt; -n &lt;project-name&gt; # -n project name $dotnet new console -n tts-service-csharp $ls Program.cs obj tts-service-csharp.sln bin tts-service-csharp.csproj # install a package for current project $ dotnet add package Microsoft.CognitiveServices.Speech Program.cs: contains the Main method where your program starts executing bin folder (binary): contains the compiled output of your program, after building, you&rsquo;ll find your executable (.exe) and other compiled files here. obj folder (objects): contains temporary files used during compilation, these files can be safely deleted and will be recreated during the next build. tts-service-csharp.csproj: the project file that defines your project settings, contains project configuration, dependencies, target framework ts-service-csharp.sln (solution): a solution file that can contain multiple related projects, useful when your application grows and needs to be split into multiple projects. tts-service-csharp.csproj:
" />
<meta name="keywords" content="" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="https://blog.jiyi27.com/posts/csharp/dot-net/001-nuget/" />





  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/buttons.min.2bc533403a27dfe0e93105a92502b42ce4587e2e4a87d9f7d349e51e16e09478.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/categories.min.3202f75cbb294747099af3850a68a09ee94b3ce505fc39e134692d90ff0a9b2a.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/code.min.dd73d157e77e82a3dc1cb06ba424cf6cc6811af0bb604ad6c68e70faf2439c8a.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/fonts.min.4881f0c525f3ce2a1864fb6e96676396cebe1e6fcef1933e8e1dde7041004fb5.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/footer.min.2e3eb191baee58dd05a9f0104ac1fab0827bca7c64dafe0b2579f934c33a1d69.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/header.min.b6fb4423cf82a9f9d7abc9cd010223fa3d70a6526a3f28f8e17d814c06e18f9e.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/main.min.3fb8954e26342ad3afabb4525959bfec6f9fc0d6929f0dda738ddeee30211690.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/menu.min.8cee75f73b9f9b1e40bd0dd53e6e770156b08bbfe1c579cd256c3f6cd3b6d32b.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/pagination.min.82f6400eae7c7c6dc3c866733c2ec0579e4089608fea69400ff85b3880aa0d3c.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/post.min.014a50745fbdd41d5f420a3e288730d5af4b7d90344dc6211d0e50c368b5b303.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/prism.min.b958d3d7c6c67361b945f9062d07d403422604b3d2cd33f93b88d41ed0ba634d.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/term.min.94de320c1b850e126e6d2c88a7c90acf58bb1313f0ea14a14cda2a42f2a88db2.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">


<link rel="stylesheet" href="https://blog.jiyi27.com/terminal.css">




<link rel="shortcut icon" href="https://blog.jiyi27.com/favicon.png">
<link rel="apple-touch-icon" href="https://blog.jiyi27.com/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="NuGet Package Management">
<meta property="og:description" content="Create new project with dotnet CLI
$dotnet new list $dotnet new &lt;template&gt; -n &lt;project-name&gt; # -n project name $dotnet new console -n tts-service-csharp $ls Program.cs obj tts-service-csharp.sln bin tts-service-csharp.csproj # install a package for current project $ dotnet add package Microsoft.CognitiveServices.Speech Program.cs: contains the Main method where your program starts executing bin folder (binary): contains the compiled output of your program, after building, you&rsquo;ll find your executable (.exe) and other compiled files here. obj folder (objects): contains temporary files used during compilation, these files can be safely deleted and will be recreated during the next build. tts-service-csharp.csproj: the project file that defines your project settings, contains project configuration, dependencies, target framework ts-service-csharp.sln (solution): a solution file that can contain multiple related projects, useful when your application grows and needs to be split into multiple projects. tts-service-csharp.csproj:
" />
<meta property="og:url" content="https://blog.jiyi27.com/posts/csharp/dot-net/001-nuget/" />
<meta property="og:site_name" content="为霜的博客" />

  <meta property="og:image" content="https://blog.jiyi27.com/og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">

  <meta property="article:section" content="c#" />


  <meta property="article:published_time" content="2024-12-03 19:42:36 &#43;0000 UTC" />












</head>
<body>


<div class="container center">

  
  
  

  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="https://blog.jiyi27.com/posts/csharp/dot-net/001-nuget/">NuGet Package Management</a>
  </h1>
  <div class="post-meta"><time class="post-date">2024-12-03</time><span class="post-reading-time">2 分钟阅读 (378 字数)</span></div>

  
    <span class="post-tags">
      
      #<a href="https://blog.jiyi27.com/tags/c#/">c#</a>&nbsp;
      
      #<a href="https://blog.jiyi27.com/tags/.net/">.net</a>&nbsp;
      
    </span>
  
  


  

  <div class="post-content"><div>
        <p>Create new project with dotnet CLI</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$dotnet new list
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$dotnet new &lt;template&gt; -n &lt;project-name&gt;
</span></span></code></pre></div><hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># -n project name</span>
</span></span><span style="display:flex;"><span>$dotnet new console -n tts-service-csharp
</span></span><span style="display:flex;"><span>$ls 
</span></span><span style="display:flex;"><span>Program.cs                obj                       tts-service-csharp.sln
</span></span><span style="display:flex;"><span>bin                       tts-service-csharp.csproj
</span></span><span style="display:flex;"><span><span style="color:#75715e"># install a package for current project</span>
</span></span><span style="display:flex;"><span>$ dotnet add package Microsoft.CognitiveServices.Speech
</span></span></code></pre></div><ul>
<li><code>Program.cs</code>: contains the <code>Main</code> method where your program starts executing</li>
<li><code>bin</code> folder (binary): contains the compiled output of your program, after building, you&rsquo;ll find your executable (.exe) and other compiled files here.</li>
<li><code>obj</code> folder (objects): contains temporary files used during compilation, these files can be safely deleted and will be recreated during the next build.</li>
<li><code>tts-service-csharp.csproj</code>: the project file that defines your project settings, contains project configuration, dependencies, target framework</li>
<li><code>ts-service-csharp.sln</code> (solution): a solution file that can contain multiple related projects, useful when your application grows and needs to be split into multiple projects.</li>
</ul>
<hr>
<p><code>tts-service-csharp.csproj</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;Project</span> <span style="color:#a6e22e">Sdk=</span><span style="color:#e6db74">&#34;Microsoft.NET.Sdk&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;PropertyGroup&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;OutputType&gt;</span>Exe<span style="color:#f92672">&lt;/OutputType&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TargetFramework&gt;</span>net8.0<span style="color:#f92672">&lt;/TargetFramework&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;RootNamespace&gt;</span>tts_service_csharp<span style="color:#f92672">&lt;/RootNamespace&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;ImplicitUsings&gt;</span>enable<span style="color:#f92672">&lt;/ImplicitUsings&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Nullable&gt;</span>enable<span style="color:#f92672">&lt;/Nullable&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/PropertyGroup&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;ItemGroup&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;PackageReference</span> <span style="color:#a6e22e">Include=</span><span style="color:#e6db74">&#34;Microsoft.CognitiveServices.Speech&#34;</span> <span style="color:#a6e22e">Version=</span><span style="color:#e6db74">&#34;1.41.1&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/ItemGroup&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/Project&gt;</span>
</span></span></code></pre></div><blockquote>
<p>All .NET projects list their dependencies in the <code>.csproj</code> file. If you have worked with JavaScript before, think of it like a <code>package.json</code> file.</p>
<p>The <code>.csproj</code> file also contains all the information that .NET tooling needs to build the project. It includes the type of the project being built (console, web, desktop, etc.), the platform this project targets and any dependencies on other projects or 3rd party libraries.</p>
<p><code>&lt;OutputType&gt;Exe&lt;/OutputType&gt;</code> stands for: Console application</p>
</blockquote>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$dotnet add package Microsoft.CognitiveServices.Speech
</span></span></code></pre></div><ol>
<li>
<p>The <code>dotnet</code> CLI first checks if the current directory contains a valid .NET project file <code>*.csproj</code></p>
</li>
<li>
<p>It then connects to the default package source (nuget.org) to erify the package exists</p>
</li>
<li>
<p>The CLI resolves dependencies by creating a dependency graph to ensure version compatibility</p>
</li>
<li>
<p>It then:</p>
<ul>
<li>
<p>Downloads the package and its dependencies to the Global NuGet cache (typically in <code>~/.nuget/packages</code>)</p>
</li>
<li>
<p>Adds a PackageReference element to your project file like:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;PackageReference</span> <span style="color:#a6e22e">Include=</span><span style="color:#e6db74">&#34;Microsoft.CognitiveServices.Speech&#34;</span> <span style="color:#a6e22e">Version=</span><span style="color:#e6db74">&#34;x.x.x&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div><ul>
<li>Updates the project&rsquo;s obj/project.assets.json file which tracks all package references</li>
</ul>
</li>
<li>
<p>Finally, it performs a restore operation to ensure all dependencies are available locally</p>
</li>
</ol>
<p>The package gets installed in Global NuGet cache: <code>~/.nuget/packages/</code>, this is shared across all projects on your machine, packages here don&rsquo;t get deleted when you delete a project, if you want to clean up unused packages from the global cache, you can:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$dotnet nuget locals all --clear
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Or manually delete packages from:</span>
</span></span><span style="display:flex;"><span>~/.nuget/packages/microsoft.cognitiveservices.speech
</span></span></code></pre></div>
      </div></div>

  
    
<div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h">查看其他文章</span>
    <hr />
  </div>
  <div class="pagination__buttons">
    
      <a href="https://blog.jiyi27.com/posts/frontend/next-js/000-nuggets-react/" class="button inline prev">
        零碎知识 - React(Typescript)
      </a>
    
    
      ::
    
    
      <a href="https://blog.jiyi27.com/posts/frontend/ts/001-syntax/" class="button inline next">
        Basic Syntax - TypeScript
      </a>
    
  </div>
</div>


  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/jiyi27/jiyi27.github.io" target="_blank">Theme</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
