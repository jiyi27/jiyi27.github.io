<!DOCTYPE html>
<html lang="en">
<head>
  
    
    <title>Shell Script Basic Syntax :: 为霜的博客</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="1. Run a script A hello world script:
#!/usr/bin/bash echo &#34;hello world&#34; The first here specifies which shell should execute this script, if you don&rsquo;t write, the default shell on your computer will run it, check all the shells on your computer:
$ cat /etc/shells # List of acceptable shells for chpass(1). # Ftpd will not allow users to connect who are not using # one of these shells. /bin/bash /bin/csh /bin/dash /bin/ksh /bin/sh /bin/tcsh /bin/zsh Don&rsquo;t write a wrong location of bash interpreter, /bin/nmsd below doesn&rsquo;t exist, execute this script will go wrong:
" />
<meta name="keywords" content="" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="https://blog.jiyi27.com/posts/linux/bash/001-shell-basics/" />





  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/buttons.min.2bc533403a27dfe0e93105a92502b42ce4587e2e4a87d9f7d349e51e16e09478.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/categories.min.3202f75cbb294747099af3850a68a09ee94b3ce505fc39e134692d90ff0a9b2a.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/code.min.dd73d157e77e82a3dc1cb06ba424cf6cc6811af0bb604ad6c68e70faf2439c8a.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/fonts.min.4881f0c525f3ce2a1864fb6e96676396cebe1e6fcef1933e8e1dde7041004fb5.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/footer.min.2e3eb191baee58dd05a9f0104ac1fab0827bca7c64dafe0b2579f934c33a1d69.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/header.min.b6fb4423cf82a9f9d7abc9cd010223fa3d70a6526a3f28f8e17d814c06e18f9e.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/main.min.3fb8954e26342ad3afabb4525959bfec6f9fc0d6929f0dda738ddeee30211690.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/menu.min.8cee75f73b9f9b1e40bd0dd53e6e770156b08bbfe1c579cd256c3f6cd3b6d32b.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/pagination.min.82f6400eae7c7c6dc3c866733c2ec0579e4089608fea69400ff85b3880aa0d3c.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/post.min.014a50745fbdd41d5f420a3e288730d5af4b7d90344dc6211d0e50c368b5b303.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/prism.min.b958d3d7c6c67361b945f9062d07d403422604b3d2cd33f93b88d41ed0ba634d.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/term.min.94de320c1b850e126e6d2c88a7c90acf58bb1313f0ea14a14cda2a42f2a88db2.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">


<link rel="stylesheet" href="https://blog.jiyi27.com/terminal.css">




<link rel="shortcut icon" href="https://blog.jiyi27.com/favicon.png">
<link rel="apple-touch-icon" href="https://blog.jiyi27.com/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Shell Script Basic Syntax">
<meta property="og:description" content="1. Run a script A hello world script:
#!/usr/bin/bash echo &#34;hello world&#34; The first here specifies which shell should execute this script, if you don&rsquo;t write, the default shell on your computer will run it, check all the shells on your computer:
$ cat /etc/shells # List of acceptable shells for chpass(1). # Ftpd will not allow users to connect who are not using # one of these shells. /bin/bash /bin/csh /bin/dash /bin/ksh /bin/sh /bin/tcsh /bin/zsh Don&rsquo;t write a wrong location of bash interpreter, /bin/nmsd below doesn&rsquo;t exist, execute this script will go wrong:
" />
<meta property="og:url" content="https://blog.jiyi27.com/posts/linux/bash/001-shell-basics/" />
<meta property="og:site_name" content="为霜的博客" />

  <meta property="og:image" content="https://blog.jiyi27.com/og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">

  <meta property="article:section" content="linux" />


  <meta property="article:published_time" content="2023-09-01 12:23:59 &#43;0000 UTC" />












</head>
<body>


<div class="container center">

  
  
  

  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="https://blog.jiyi27.com/posts/linux/bash/001-shell-basics/">Shell Script Basic Syntax</a>
  </h1>
  <div class="post-meta"><time class="post-date">2023-09-01</time><span class="post-reading-time">7 分钟阅读 (1486 字数)</span></div>

  
    <span class="post-tags">
      
      #<a href="https://blog.jiyi27.com/tags/linux/">linux</a>&nbsp;
      
      #<a href="https://blog.jiyi27.com/tags/shell/">shell</a>&nbsp;
      
    </span>
  
  


  

  <div class="post-content"><div>
        <h2 id="1-run-a-script">1. Run a script<a href="#1-run-a-script" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>A hello world script:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/usr/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>echo <span style="color:#e6db74">&#34;hello world&#34;</span>
</span></span></code></pre></div><p>The first here specifies which shell should execute this script, if you don&rsquo;t write, the default shell on your computer will run it, check all the shells on your computer:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat /etc/shells      
</span></span><span style="display:flex;"><span><span style="color:#75715e"># List of acceptable shells for chpass(1).</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Ftpd will not allow users to connect who are not using</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># one of these shells.</span>
</span></span><span style="display:flex;"><span>/bin/bash
</span></span><span style="display:flex;"><span>/bin/csh
</span></span><span style="display:flex;"><span>/bin/dash
</span></span><span style="display:flex;"><span>/bin/ksh
</span></span><span style="display:flex;"><span>/bin/sh
</span></span><span style="display:flex;"><span>/bin/tcsh
</span></span><span style="display:flex;"><span>/bin/zsh
</span></span></code></pre></div><p>Don&rsquo;t write a wrong location of bash interpreter, <code>/bin/nmsd</code> below doesn&rsquo;t exist, execute this script will go wrong:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat script.sh 
</span></span><span style="display:flex;"><span><span style="color:#75715e">#!/bin/nmsd</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;hello world&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ chmod u+x script.sh 
</span></span><span style="display:flex;"><span>$ ./script.sh 
</span></span><span style="display:flex;"><span>zsh: ./a.sh: bad interpreter: /bin/ash: no such file or directory
</span></span></code></pre></div><p><code>chmod u+x</code> will made the file executable for your user (it will only add it for your user, though it may be already executable by the group owner, or &ldquo;other&rdquo;). <code>chmod a+x</code> (&lsquo;all plus executable bit&rsquo;) makes the file executable by everyone. The <code>u</code> is standing for &ldquo;user&rdquo;. That means that the executable flag only applies to the current user of the file.</p>
<ul>
<li><strong>u for user</strong> (the user who is owner of the file</li>
<li><strong>g for group</strong> (other users in the file group</li>
<li><strong>o for others</strong> (users not in the file group</li>
<li><strong>a for all</strong> (all users</li>
</ul>
<h2 id="2-bash-variables-are-untyped">2. Bash variables are untyped<a href="#2-bash-variables-are-untyped" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>Bash does not type variables like C and related languages, defining them as integers, floating points, or string types. In Bash, all variables are strings. A string that is an integer can be used in integer arithmetic, which is the only type of math that Bash is capable of doing.</p>
<p>The assignment <code>VAR=10</code> sets the value of the variable <code>VAR</code> to 10. To print the value of the variable, you can use the statement <code>echo $VAR</code>.</p>
<blockquote>
<p><em>Note: The syntax of variable assignment is very strict. There must be no spaces on either side of the equal <code>=</code> sign in the assignment statement.</em></p>
</blockquote>
<p>It is not suitable for scientific computing or anything that requires decimals, such as financial calculations.</p>
<h2 id="3-for-loop--and-array">3. for loop  and array<a href="#3-for-loop--and-array" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> item in <span style="color:#f92672">(</span>list<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	command_one
</span></span><span style="display:flex;"><span>	command_two
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span></code></pre></div><p><em><strong>e.g.,</strong></em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/usr/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>archs<span style="color:#f92672">=(</span>amd64 arm64 ppc64le ppc64 s390x<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> arch in <span style="color:#e6db74">${</span>archs<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	env GOOS<span style="color:#f92672">=</span>linux GOARCH<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>arch<span style="color:#e6db74">}</span> go build -o prepnode_<span style="color:#e6db74">${</span>arch<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># rename all file under current folder form lowercase to capital</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> file in *; 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	mv <span style="color:#e6db74">&#34;</span>$file<span style="color:#e6db74">&#34;</span> 	<span style="color:#e6db74">`</span>echo $file |  tr <span style="color:#e6db74">&#39;a-z&#39;</span> <span style="color:#e6db74">&#39;A-Z&#39;</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span></code></pre></div><p>But this isn&rsquo;t the best choice, the command below will rename all files recursively which the code above cannot do,</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ brew install rename
</span></span><span style="display:flex;"><span>$ find . -depth -execdir rename -f <span style="color:#e6db74">&#39;y/A-Z/a-z/&#39;</span> <span style="color:#f92672">{}</span> <span style="color:#ae81ff">\;</span>
</span></span></code></pre></div><p>You probably wonder what is the <code>&quot;&quot;</code>,  <code>*</code> and <code>;</code>  above, I&rsquo;ll explain it to you next.</p>
<h2 id="4-control-operators">4. Control operators<a href="#4-control-operators" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<ul>
<li><code>;</code>: Will run one command after another has finished, irrespective of the outcome of the first. This means even there is wrong in fiest command, the second can execute.</li>
<li><code>&amp;&amp;</code>: if the precceeding command goes wrong, the commands left won&rsquo;t be executed.</li>
<li><code>||</code>: It executes the command on the right only if the command on the left returned an error.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># even command `cd fd.sh` goes wrong, command `ls` can be executed </span>
</span></span><span style="display:flex;"><span>$ cd fd.sh; ls
</span></span><span style="display:flex;"><span>cd: not a directory: fd.sh
</span></span><span style="display:flex;"><span>economic fd.sh    test.sh
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ cd fd.sh <span style="color:#f92672">&amp;&amp;</span> ls
</span></span><span style="display:flex;"><span>cd: not a directory: fd.sh
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ cd fd.sh <span style="color:#f92672">||</span> ls
</span></span><span style="display:flex;"><span>cd: not a directory: fd.sh
</span></span><span style="display:flex;"><span>economic fd.sh    test.sh
</span></span></code></pre></div><h2 id="5-quotes">5. Quotes<a href="#5-quotes" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<h3 id="51-why-need-qoutes">5.1. Why need qoutes<a href="#51-why-need-qoutes" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<p>Quoting is used to remove the special meaning of <em><strong>metacharacters</strong></em> or words to the shell. Quoting can be used to disable special treatment for special characters, to prevent reserved words from being recognized as such, and to prevent <em><strong>parameter expansion</strong></em>.</p>
<blockquote>
<p><strong>Metacharacter</strong>: a character that, when unquoted, separates words. A metacharacter is a <code>space</code>, <code>tab</code>, <code>newline</code>, or one of the following characters: <code>*</code>,  <code>?</code>,  <code>|</code>,   <code>&amp;</code>,   <code>;</code>,  <code>(</code>,  <code>)</code>,   <code>&lt;</code>, or <code>&gt;</code>, etc&hellip;</p>
<p><strong>Parameter Expansion</strong>: The <code>$</code> character introduces parameter expansion, command substitution, or arithmetic expansion. <a href="https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html">source</a></p>
</blockquote>
<p>For example, you want to print <code>&lt;-$1500.**&gt;; (update?) [y|n]</code>, but <code>&lt;&gt;*;$</code> has a special meaning in bash, and printing it directly won&rsquo;t work.</p>
<p>You can use escape character <code>\</code> to solve this problem:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>bash-3.2$ echo <span style="color:#ae81ff">\&lt;</span>-<span style="color:#ae81ff">\$</span>1500.<span style="color:#ae81ff">\*\*\&gt;\;</span> <span style="color:#ae81ff">\(</span>update<span style="color:#ae81ff">\?\)</span> <span style="color:#ae81ff">\[</span>y<span style="color:#ae81ff">\|</span>n<span style="color:#ae81ff">\]</span>
</span></span><span style="display:flex;"><span>&lt;-$1500.**&gt;; <span style="color:#f92672">(</span>update?<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>y|n<span style="color:#f92672">]</span>
</span></span></code></pre></div><p>But this is not elegant, you can use <strong>single quote</strong> to solve this problem:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>bash-3.2$ echo <span style="color:#e6db74">&#39;&lt;-$1500.**&gt;; (update?) [y|n]&#39;</span>
</span></span><span style="display:flex;"><span>&lt;-$1500.**&gt;; <span style="color:#f92672">(</span>update?<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>y|n<span style="color:#f92672">]</span>
</span></span></code></pre></div><p>Why does this work?  Because all special characters between single quotes lose their special meaning, I find a table will help:</p>
<table>
  <thead>
      <tr>
          <th style="text-align: center">Sr.No.</th>
          <th style="text-align: center">Quoting &amp; Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">1</td>
          <td style="text-align: center">**Single quote ** All special characters between these quotes lose their special meaning.</td>
      </tr>
      <tr>
          <td style="text-align: center">2</td>
          <td style="text-align: center"><strong>Backslash</strong> <code>\</code> Any character immediately following the backslash loses its special meaning.</td>
      </tr>
      <tr>
          <td style="text-align: center">3</td>
          <td style="text-align: center"><strong>Backquote</strong>  Anything in between back quotes would be treated as a command and would be executed.</td>
      </tr>
      <tr>
          <td style="text-align: center">4</td>
          <td style="text-align: center">The characters <code> $</code>  and &lsquo;`&rsquo; retain their special meaning within <strong>double quotes</strong>.</td>
      </tr>
  </tbody>
</table>
<h3 id="52-backqoute">5.2. Backqoute<a href="#52-backqoute" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<p>You may wonder what does back quote mean in the table, I&rsquo;ll give you an example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat a.txt 
</span></span><span style="display:flex;"><span>hello world
</span></span><span style="display:flex;"><span>$ A<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>cat a.txt<span style="color:#e6db74">`</span>; echo <span style="color:#e6db74">&#34;</span>$A<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>hello world
</span></span></code></pre></div><p>The code between back quotes will be executed, and if there is output, you can save it into a variable,</p>
<h3 id="53-double-quotes">5.3. Double quotes<a href="#53-double-quotes" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<p>Sometimes <code>*</code> may acts like it remains its spcecial meaning in double quotes:</p>
<ul>
<li>
<p>Without any special options:</p>
<ul>
<li>
<p>Inside double quotes (<code>&quot;</code>), the asterisk <code>*</code> retains its literal meaning and does not perform globbing (expansion to match filenames).</p>
</li>
<li>
<p>For example, <code>&quot;*&quot;</code> will be treated as a literal asterisk character.</p>
</li>
</ul>
</li>
<li>
<p>With some spcecial options:</p>
<ul>
<li><code>find . -name &quot;*.sh&quot; -type f </code>, in the command the <code>-name &quot;*.sh&quot;</code> the <code>&quot;*.sh&quot;</code> acts as a pattern, the double quotes prevent the shell from interpreting the asterisk as a wildcard character and expanding it to match filenames in the current directory.</li>
<li>Therefore, in the given command, <code>&quot;*.c&quot;</code> is treated as a literal string by the shell. The <code>find</code> command receives the pattern <code>&quot;*.c&quot;</code> as an argument, and it performs the matching internally during its execution.</li>
<li>Which acts like the <code>*</code> doesn&rsquo;t lose its special meaning.</li>
</ul>
</li>
</ul>
<h2 id="6----in-bash">6. <code>$</code> &amp; <code>*</code> in bash<a href="#6----in-bash" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<h3 id="61-">6.1. <code>$</code><a href="#61-" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<p><code>$</code> has many use cases, I&rsquo;ll introduce one here, in bash scripting, variables are used to store values, the <code>$</code> symbol is used to retrieve the value of a variable Value.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Mark&#34;</span>; echo <span style="color:#e6db74">&#34;My name is </span>$name<span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><blockquote>
<p>⚠ Don&rsquo;t forget <code>$</code> and &lsquo;back quote&rsquo; sign retain their special meaning between double quote.</p>
</blockquote>
<h3 id="62-">6.2. <code>*</code><a href="#62-" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<blockquote>
<p>⚠ <code>*</code> will lose its special meaning between double quote.</p>
</blockquote>
<p>The Shell (bash) considers an asterisk <code>*</code> to be a wildcard character that can match one or more occurrences of any character, including no character.</p>
<p>The “*” character is a shortcut for “everything”. Thus, if you enter <code>ls *</code>, you will see all of the contents of a given directory.</p>
<ul>
<li><code>ls *fq</code> lists every file that ends with a <code>fq</code>.</li>
<li><code>ls /usr/bin/*.sh</code> This lists every file in <code>/usr/bin</code> directory that ends in the characters <code>.sh</code>.</li>
<li><code>*</code> can be placed anywhere in your pattern: <code>ls Mov10*fq</code></li>
</ul>
<p>Now when you check the command we did before, you may understand:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># rename all file under current folder form lower-case to upper-case</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> file in *; 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	mv <span style="color:#e6db74">&#34;</span>$file<span style="color:#e6db74">&#34;</span> 	<span style="color:#e6db74">`</span>echo $file |  tr <span style="color:#e6db74">&#39;a-z&#39;</span> <span style="color:#e6db74">&#39;A-Z&#39;</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span></code></pre></div><h2 id="5-arithmetic-expansion">5. Arithmetic expansion<a href="#5-arithmetic-expansion" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<blockquote>
<p><strong>Parameter Expansion</strong>: The <code>$</code> character introduces parameter expansion, command substitution, or arithmetic expansion. <a href="https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html">source</a></p>
</blockquote>
<p>The behaviour of bash interpreter is different from other programming interpreter so if you write code like below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/usr/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$ a<span style="color:#f92672">=</span>3; b<span style="color:#f92672">=</span>5; c<span style="color:#f92672">=</span>a+b; echo $c
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Print: a+b </span>
</span></span></code></pre></div><p>You may not get the result you want, the correct way to do this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ a<span style="color:#f92672">=</span>3; b<span style="color:#f92672">=</span>5; c<span style="color:#f92672">=</span><span style="color:#66d9ef">$((</span>a+b<span style="color:#66d9ef">))</span>; echo $c     
</span></span><span style="display:flex;"><span>$ a<span style="color:#f92672">=</span>3; b<span style="color:#f92672">=</span>5; echo <span style="color:#66d9ef">$((</span>a+b<span style="color:#66d9ef">))</span>
</span></span><span style="display:flex;"><span>$ a<span style="color:#f92672">=</span>3; b<span style="color:#f92672">=</span>5; let c<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;a+b&#34;</span>; echo $c
</span></span></code></pre></div><ul>
<li><code>$((...))</code> is called <a href="http://pubs.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_06_04">arithmetic expansion</a>, which is typical of the <code>bash</code> and <code>ksh</code> shells. This allows doing simple <em>integer</em> arithmetic, no floating point stuff though. The result of the expression replaces the expression, as in <code>echo $((1+1))</code> would become <code>echo 2</code></li>
<li><code>((...))</code> is referred to as <a href="https://wiki-dev.bash-hackers.org/syntax/ccmd/arithmetic_eval">arithmetic evaluation</a> and can be used as part of <code>if ((...)); then</code> or <code>while ((...)) ; do</code> statements. Arithmetic expansion <code>$((..))</code> substitutes the output of the operation and can be used to assign variables as in <code>i=$((i+1))</code> but cannot be used in conditional statements.</li>
<li><code>let</code> is a <code>bash</code> and <code>ksh</code> keyword which allows for variable creation with simple arithmetic evaluation. If you try to assign a string there like <code>let a=&quot;hello world&quot;</code> you&rsquo;ll get a syntax error.</li>
</ul>
<h2 id="6-conclusion">6. Conclusion<a href="#6-conclusion" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<ul>
<li>There must be no spaces on either side of the equal <code>=</code> sign in the assignment statement.</li>
<li>Three control operators: <code>;</code>, <code>||</code>, <code>&amp;&amp;</code></li>
<li>set defalul shell: <code>chsh -s /bin/zsh</code>, switch shell temporarily: <code>shell-name</code> + <code>enter</code></li>
<li>check version of shell: <code>echo &quot;$ZSH_VERSION&quot;</code>, <code>echo &quot;$BASH_VERSION&quot;</code></li>
<li>check all shells: <code>cat /etc/shells</code></li>
</ul>
<p>References:</p>
<ul>
<li><a href="https://askubuntu.com/questions/29589">bash - &lsquo;chmod u+x&rsquo; versus &lsquo;chmod +x&rsquo; - Ask Ubuntu</a></li>
<li><a href="https://www.askingbox.com/question/linux-difference-between-chmod-x-and-chmod-u-x">Linux: Difference between &ldquo;chmod +x&rdquo; and &ldquo;chmod u+x&rdquo;</a></li>
<li><a href="https://www.gnu.org/software/bash/manual/html_node/Quoting.html">Quoting (Bash Reference Manual)</a></li>
<li><a href="https://www.tutorialspoint.com/unix/unix-quoting-mechanisms.htm">Unix / Linux - Shell Quoting Mechanisms</a></li>
<li><a href="https://unix.stackexchange.com/questions/48392/understanding-backtick">bash - Understanding backtick (`) - Unix &amp; Linux Stack Exchange</a></li>
<li><a href="https://www.gnu.org/software/bash/manual/html_node/Shell-Expansions.html#Shell-Expansions">Shell Expansions (Bash Reference Manual)</a></li>
<li><a href="https://hbctraining.github.io/Intro-to-shell-flipped/lessons/02_wildcards_shortcuts.html">The Shell | Introduction to the command line interface (Shell)</a></li>
</ul>

      </div></div>

  
    
<div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h">查看其他文章</span>
    <hr />
  </div>
  <div class="pagination__buttons">
    
      <a href="https://blog.jiyi27.com/posts/git/practice/003-blog-backup/" class="button inline prev">
        Backup Blogs with Git - Sovled
      </a>
    
    
      ::
    
    
      <a href="https://blog.jiyi27.com/posts/golang/basics/009-gob-json-encoding/" class="button inline next">
        encoding/gob &amp; encoding/json in Go
      </a>
    
  </div>
</div>


  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/jiyi27/jiyi27.github.io" target="_blank">Theme</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
