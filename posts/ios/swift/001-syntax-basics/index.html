<!DOCTYPE html>
<html lang="en">
<head>
  
    
    <title>Swift Basic Syntax and Data types :: ä¸ºéœœçš„åšå®¢</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="1. Implicit returns SE-0255 This is a feature in Swift (SE-0255) that, for the sake of syntactic conciseness, allows the return keyword to be omitted when a method, computed property, or closure contains only a single expression.
// function or methods // for: external parameter name or call it &#39;parameter label&#39; func greeting(for person: String) -&gt; String { &#34;Hello, &#34; &#43; person &#43; &#34;!&#34; } print(greeting(for: &#34;Dave&#34;)) // Prints &#34;Hello, Dave!&#34; // computed property struct Circle { var radius: Double var circumference: Double { 2 * .pi * radius } } // closures before let square: (Int) -&gt; Int = { (number: Int) in return number * number } // closures now, no returns let square: (Int) -&gt; Int = { number in number * number } 2. Closure 2.1. Closure Syntax { (&lt;#parameters#&gt;) -&gt; &lt;#return type#&gt; in &lt;#statements#&gt; } let coo = {() -&gt; Void in print(&#34;closure&#34;) } // å› ä¸º coo æ— è¿”å›å€¼ä¹Ÿæ— å‚æ•°, å¯ä»¥ç®€å†™ä¸ºå¦‚ä¸‹: let coo = { print(&#34;closure&#34;) } // å¸¦å‚æ•°ä»¥åŠè¿”å›å€¼çš„é—­åŒ… let foo = { (str:String) -&gt; String in return str } coo() print(foo(&#34;closure&#34;)) 2.2 Trailing Closure If the last parameter to a function is a closure, Swift lets you use special syntax called trailing closure syntax. Rather than pass in your closure as a parameter, you pass it directly after the function inside braces.
" />
<meta name="keywords" content="" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="https://blog.jiyi27.com/posts/ios/swift/001-syntax-basics/" />





  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/buttons.min.2bc533403a27dfe0e93105a92502b42ce4587e2e4a87d9f7d349e51e16e09478.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/categories.min.3202f75cbb294747099af3850a68a09ee94b3ce505fc39e134692d90ff0a9b2a.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/code.min.dd73d157e77e82a3dc1cb06ba424cf6cc6811af0bb604ad6c68e70faf2439c8a.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/fonts.min.4881f0c525f3ce2a1864fb6e96676396cebe1e6fcef1933e8e1dde7041004fb5.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/footer.min.2e3eb191baee58dd05a9f0104ac1fab0827bca7c64dafe0b2579f934c33a1d69.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/header.min.b6fb4423cf82a9f9d7abc9cd010223fa3d70a6526a3f28f8e17d814c06e18f9e.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/main.min.3fb8954e26342ad3afabb4525959bfec6f9fc0d6929f0dda738ddeee30211690.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/menu.min.8cee75f73b9f9b1e40bd0dd53e6e770156b08bbfe1c579cd256c3f6cd3b6d32b.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/pagination.min.82f6400eae7c7c6dc3c866733c2ec0579e4089608fea69400ff85b3880aa0d3c.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/post.min.014a50745fbdd41d5f420a3e288730d5af4b7d90344dc6211d0e50c368b5b303.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/prism.min.b958d3d7c6c67361b945f9062d07d403422604b3d2cd33f93b88d41ed0ba634d.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/term.min.94de320c1b850e126e6d2c88a7c90acf58bb1313f0ea14a14cda2a42f2a88db2.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">


<link rel="stylesheet" href="https://blog.jiyi27.com/terminal.css">




<link rel="shortcut icon" href="https://blog.jiyi27.com/favicon.png">
<link rel="apple-touch-icon" href="https://blog.jiyi27.com/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Swift Basic Syntax and Data types">
<meta property="og:description" content="1. Implicit returns SE-0255 This is a feature in Swift (SE-0255) that, for the sake of syntactic conciseness, allows the return keyword to be omitted when a method, computed property, or closure contains only a single expression.
// function or methods // for: external parameter name or call it &#39;parameter label&#39; func greeting(for person: String) -&gt; String { &#34;Hello, &#34; &#43; person &#43; &#34;!&#34; } print(greeting(for: &#34;Dave&#34;)) // Prints &#34;Hello, Dave!&#34; // computed property struct Circle { var radius: Double var circumference: Double { 2 * .pi * radius } } // closures before let square: (Int) -&gt; Int = { (number: Int) in return number * number } // closures now, no returns let square: (Int) -&gt; Int = { number in number * number } 2. Closure 2.1. Closure Syntax { (&lt;#parameters#&gt;) -&gt; &lt;#return type#&gt; in &lt;#statements#&gt; } let coo = {() -&gt; Void in print(&#34;closure&#34;) } // å› ä¸º coo æ— è¿”å›å€¼ä¹Ÿæ— å‚æ•°, å¯ä»¥ç®€å†™ä¸ºå¦‚ä¸‹: let coo = { print(&#34;closure&#34;) } // å¸¦å‚æ•°ä»¥åŠè¿”å›å€¼çš„é—­åŒ… let foo = { (str:String) -&gt; String in return str } coo() print(foo(&#34;closure&#34;)) 2.2 Trailing Closure If the last parameter to a function is a closure, Swift lets you use special syntax called trailing closure syntax. Rather than pass in your closure as a parameter, you pass it directly after the function inside braces.
" />
<meta property="og:url" content="https://blog.jiyi27.com/posts/ios/swift/001-syntax-basics/" />
<meta property="og:site_name" content="ä¸ºéœœçš„åšå®¢" />

  <meta property="og:image" content="https://blog.jiyi27.com/og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">

  <meta property="article:section" content="ios" />


  <meta property="article:published_time" content="2024-05-15 22:03:35 &#43;0000 UTC" />












</head>
<body>


<div class="container center">

  
  
  

  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="https://blog.jiyi27.com/posts/ios/swift/001-syntax-basics/">Swift Basic Syntax and Data types</a>
  </h1>
  <div class="post-meta"><time class="post-date">2024-05-15</time><span class="post-reading-time">6 åˆ†é’Ÿé˜…è¯» (1276 å­—æ•°)</span></div>

  
    <span class="post-tags">
      
      #<a href="https://blog.jiyi27.com/tags/ios/">ios</a>&nbsp;
      
      #<a href="https://blog.jiyi27.com/tags/swift/">swift</a>&nbsp;
      
      #<a href="https://blog.jiyi27.com/tags/%E9%97%AD%E5%8C%85/">é—­åŒ…</a>&nbsp;
      
    </span>
  
  


  

  <div class="post-content"><div>
        <h1 id="1-implicit-returns-se-0255">1. Implicit returns SE-0255<a href="#1-implicit-returns-se-0255" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<p>This is a feature in Swift (SE-0255) that, for the sake of syntactic conciseness, allows the <code>return</code> keyword to be omitted when a method, computed property, or closure contains only a single expression.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">// function or methods</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// for: external parameter name or call it &#39;parameter label&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">greeting</span>(<span style="color:#66d9ef">for</span> person: String) -&gt; String {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Hello, &#34;</span> <span style="color:#f92672">+</span> person <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;!&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>print(greeting(<span style="color:#66d9ef">for</span>: <span style="color:#e6db74">&#34;Dave&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Prints &#34;Hello, Dave!&#34;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">// computed property</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Circle</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> radius: Double
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> circumference: Double {
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> .pi <span style="color:#f92672">*</span> radius
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">// closures before</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> square: (Int) -&gt; Int = { (number: Int) <span style="color:#66d9ef">in</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> number <span style="color:#f92672">*</span> number
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// closures now, no returns</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> square: (Int) -&gt; Int = { number <span style="color:#66d9ef">in</span>
</span></span><span style="display:flex;"><span>    number <span style="color:#f92672">*</span> number
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="2-closure">2. Closure<a href="#2-closure" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<h3 id="21-closure-syntax">2.1. Closure Syntax<a href="#21-closure-syntax" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>{ (<span style="color:#f92672">&lt;</span>#parameters#<span style="color:#f92672">&gt;</span>) -&gt; <span style="color:#f92672">&lt;</span>#<span style="color:#66d9ef">return</span> type#<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">in</span>
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">&lt;</span>#statements#<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> coo = {() -&gt; Void <span style="color:#66d9ef">in</span>
</span></span><span style="display:flex;"><span>     print(<span style="color:#e6db74">&#34;closure&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å› ä¸º coo æ— è¿”å›å€¼ä¹Ÿæ— å‚æ•°, å¯ä»¥ç®€å†™ä¸ºå¦‚ä¸‹:</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> coo = {
</span></span><span style="display:flex;"><span>     print(<span style="color:#e6db74">&#34;closure&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å¸¦å‚æ•°ä»¥åŠè¿”å›å€¼çš„é—­åŒ…</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> foo = { (str:String) -&gt; String <span style="color:#66d9ef">in</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> str
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>coo()
</span></span><span style="display:flex;"><span>print(foo(<span style="color:#e6db74">&#34;closure&#34;</span>))
</span></span></code></pre></div><h3 id="22-trailing-closure">2.2 Trailing Closure<a href="#22-trailing-closure" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<p>If the last parameter to a function is a closure, Swift lets you use special syntax called <em>trailing closure syntax</em>. Rather than pass in your closure as a parameter, you pass it directly after the function inside braces.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">travel</span>(action: () -&gt; Void) {
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;I&#39;m getting ready to go.&#34;</span>)
</span></span><span style="display:flex;"><span>    action()
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;I arrived!&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Because its last parameter is a closure, we can call <code>travel()</code> using trailing closure syntax like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>travel() {
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;I&#39;m driving in my car&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>In fact, because there arenâ€™t any other parameters, we can eliminate the parentheses entirely:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>travel {
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;I&#39;m driving in my car&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ç–‘é—®: å‚æ•° <code>action</code> çš„ç±»å‹æ˜¯ <code>() -&gt; Void</code>, è€Œ <code>print()</code> æ¥å—äº†ä¸€ä¸ªå‚æ•°, ä»–ä»¬æ˜æ˜ä¸æ˜¯åŒä¸€ä¸ªç±»å‹, ä¸ºä»€ä¹ˆæŠŠ <code>print(&quot;I'm driving in my car&quot;)</code> å½“å‚æ•°ä¼ ç»™äº† <code>action</code> å‘¢?</p>
<p>è§£ç­”: å½“ä½ è°ƒç”¨ <code>travel</code> å¹¶ä¼ é€’ <code>print(&quot;I'm driving in my car&quot;)</code> æ—¶(å¦‚ä¸‹)ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>travel {
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;I&#39;m driving in my car&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ä½ ä¼ é€’çš„æ˜¯ä¸€ä¸ªé—­åŒ…ã€‚è¿™ä¸ªé—­åŒ…çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;I&#39;m driving in my car&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>è¿™ä¸ªé—­åŒ…æœ¬èº«ç¬¦åˆ <code>() -&gt; Void</code> ç±»å‹ï¼Œå› ä¸ºå®ƒä¸æ¥å—ä»»ä½•å‚æ•°å¹¶ä¸”ä¸è¿”å›ä»»ä½•å€¼. è™½ç„¶é—­åŒ…å•ä¸ªè¯­å¥ä¼šè‡ªåŠ¨åŠ ä¸Š return, ä½†æ˜¯ print è¿”å›ä¸ºç©º, åœ¨æ­¤åˆæ³•.</p>
<p>References: <a href="https://www.hackingwithswift.com/sixty/6/5/trailing-closure-syntax">Trailing closure syntax - a free Hacking with Swift tutorial</a></p>
<h3 id="23-call-function-without-parentheses">2.3. Call function without parentheses<a href="#23-call-function-without-parentheses" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<p>Only when you call a function with trailing closure, you can call it without parenthese.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">getName</span>(action: () -&gt; Void) -&gt; String {
</span></span><span style="display:flex;"><span>    action()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Jack&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// call function getName, and pass a closure which contains two expressions</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> a = getName {
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;hello...&#34;</span>)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Getting your name...&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(a)
</span></span></code></pre></div><blockquote>
<p>å¯¹äºä¸Šé¢çš„ä»£ç , å› ä¸ºé—­åŒ…å‚æ•°å’Œè¿”å›å€¼çš†ä¸ºç©º, æˆ‘ä»¬çœç•¥äº†ä¸€äº›ä¸œè¥¿, å®Œæ•´çš„å†™æ³•åº”è¯¥å¦‚ä¸‹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> a = getName {() -&gt; Void <span style="color:#66d9ef">in</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;hello...&#34;</span>)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Getting your name...&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å¦‚æœä½ éœ€è¦æ›´å®Œæ•´çš„å†™æ³•, å³ä¸ä½¿ç”¨å°¾éšé—­åŒ…, å†™æ³•åº”è¯¥å¦‚ä¸‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> a = getName(action: { () -&gt; Void <span style="color:#66d9ef">in</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;hello...&#34;</span>)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Getting your name...&#34;</span>)
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div></blockquote>
<p>Assume <code>getName</code> doesn&rsquo;t have parameters, you cannot omit the parentheses when call it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">getName</span>() -&gt; String {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Jack&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> a = getName <span style="color:#75715e">// This is not calling getName, this is assign a function to variable &#39;a&#39;</span>
</span></span></code></pre></div><h3 id="24-trailing-closure-in-swiftui">2.4. Trailing Closure in SwiftUI<a href="#24-trailing-closure-in-swiftui" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<p>VStack çš„ç®€å•å®šä¹‰:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">VStack</span>&lt;Content: View&gt;: View {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// æœ€åä¸€ä¸ªå‚æ•°æ˜¯é—­åŒ…, å› æ­¤æ„å»º VStack å¯ä»¥ä½¿ç”¨ å°¾éšé—­åŒ…è¯­æ³•</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">init</span>(@ViewBuilder content: () -&gt; Content)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> body: some View {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// å†…éƒ¨å®ç°</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å®é™…ä½¿ç”¨</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> body: some View { 
</span></span><span style="display:flex;"><span>    VStack { <span style="color:#75715e">// è¿™é‡Œä½¿ç”¨äº†å°¾éšé—­åŒ…, å› ä¸ºè¿™é‡Œæ²¡æœ‰ç»™VStackæ„é€ å‡½æ•°ä¼ é€’å…¶ä»–å‚æ•°, å› æ­¤è°ƒç”¨æ—¶å¯çœç•¥æ‹¬å·()</span>
</span></span><span style="display:flex;"><span>        Text(<span style="color:#e6db74">&#34;Hello World&#34;</span>)
</span></span><span style="display:flex;"><span>        Text(<span style="color:#e6db74">&#34;Title&#34;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ä¸ä½¿ç”¨å°¾éšé—­åŒ…</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> body: some View {
</span></span><span style="display:flex;"><span>    VStack(content:{
</span></span><span style="display:flex;"><span>        Text(<span style="color:#e6db74">&#34;Hello World&#34;</span>)
</span></span><span style="display:flex;"><span>        Text(<span style="color:#e6db74">&#34;Title&#34;</span>)
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><code>@ViewBuilder</code> å…è®¸ä½ åœ¨ä¸€ä¸ªé—­åŒ…ä¸­è¿”å›å¤šä¸ªè§†å›¾ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨å°†è¿™äº›è§†å›¾ç»„åˆæˆä¸€ä¸ªè§†å›¾ã€‚æ¯”å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>VStack {
</span></span><span style="display:flex;"><span>    Text(<span style="color:#e6db74">&#34;Hello, world!&#34;</span>)
</span></span><span style="display:flex;"><span>    Text(<span style="color:#e6db74">&#34;Hello World&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>åœ¨è¿™é‡Œï¼Œ<code>VStack</code> çš„é—­åŒ…ä¼ é€’ç»™äº† <code>content</code> å‚æ•°ã€‚è¿™ä¸ªé—­åŒ…å†…éƒ¨åŒ…å«äº†ä¸¤ä¸ª <code>Text</code> è§†å›¾ã€‚<code>@ViewBuilder</code> å±æ€§åŒ…è£…å™¨ä¼šå¤„ç†è¿™ä¸ªé—­åŒ…ï¼Œå°†å…¶è½¬æ¢ä¸ºå•ä¸€çš„è§†å›¾å†…å®¹ã€‚</p>
<p><strong>å…·ä½“å·¥ä½œæœºåˆ¶</strong></p>
<ol>
<li><strong>é—­åŒ…å®šä¹‰</strong>ï¼šä½ åœ¨ <code>VStack</code> ä¸­ä¼ é€’äº†ä¸€ä¸ªé—­åŒ…ï¼Œè¿™ä¸ªé—­åŒ…åŒ…å«å¤šä¸ªè§†å›¾ã€‚</li>
<li><strong><code>@ViewBuilder</code> å¤„ç†</strong>ï¼š<code>@ViewBuilder</code> ä¼šå°†é—­åŒ…ä¸­çš„å¤šä¸ªè§†å›¾ç»„åˆæˆä¸€ä¸ªè§†å›¾ã€‚å®ƒä¼šå°†è¿™äº›è§†å›¾æ”¶é›†èµ·æ¥ï¼Œæ„å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰å­è§†å›¾çš„è§†å›¾æ ‘ã€‚</li>
<li><strong>ä¼ é€’ç»„åˆè§†å›¾</strong>ï¼šæœ€ç»ˆï¼Œè¿™ä¸ªç»„åˆè§†å›¾è¢«ä¼ é€’ç»™ <code>VStack</code>ï¼Œä½œä¸ºå…¶å†…å®¹ã€‚</li>
</ol>
<p>å› æ­¤ï¼Œå°½ç®¡çœ‹èµ·æ¥ä½ ä¼ é€’äº†å¤šä¸ªè§†å›¾ï¼ˆæ¯”å¦‚ <code>Text(&quot;Hello, world!&quot;)</code> å’Œ <code>Text(&quot;Hello World&quot;)</code>ï¼‰ï¼Œä½†å®é™…ä¸Šä½ ä¼ é€’çš„æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œè¿™ä¸ªé—­åŒ…åœ¨ <code>@ViewBuilder</code> çš„å¸®åŠ©ä¸‹è¿”å›äº†ä¸€ä¸ªç»„åˆè§†å›¾ã€‚</p>
<blockquote>
<p><code>@ViewBuilder</code> å®é™…ä¸Šæ˜¯ Swift ä¸­çš„ä¸€ç§ Result Builder, åé¢ä¼šè®².</p>
</blockquote>
<p>ç»¼ä¸Š:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">ContentView</span>: View {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// è®¡ç®—å±æ€§ çœç•¥ return</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> body: some View {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Trailing Closure å’Œ Result Builder ç‰¹æ€§</span>
</span></span><span style="display:flex;"><span>        VStack {
</span></span><span style="display:flex;"><span>            Text(<span style="color:#e6db74">&#34;Hello World&#34;</span>)
</span></span><span style="display:flex;"><span>            Text(<span style="color:#e6db74">&#34;Title&#34;</span>)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>References: <a href="https://juejin.cn/post/6897910455138779144">(ä¸€) SwiftUI - å£°æ˜å¼è¯­æ³•åˆ†æ - æ˜é‡‘</a></p>
<h3 id="25-trailing-closure-in-swiftui">2.5. Trailing Closure in SwiftUI<a href="#25-trailing-closure-in-swiftui" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">addItem</span>() {
</span></span><span style="display:flex;"><span>    withAnimation {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> newItem = Item(context: viewContext)
</span></span><span style="display:flex;"><span>        newItem.timestamp = Date()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">do</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> viewContext.save()
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">let</span> nsError = error <span style="color:#66d9ef">as</span> NSError
</span></span><span style="display:flex;"><span>            fatalError(<span style="color:#e6db74">&#34;Unresolved error </span><span style="color:#e6db74">\(</span>nsError<span style="color:#e6db74">)</span><span style="color:#e6db74">, </span><span style="color:#e6db74">\(</span>nsError.userInfo<span style="color:#e6db74">)</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><code>withAnimation</code> æ˜¯ä¸ªå‡½æ•°,  æœ€åä¸€ä¸ªå‚æ•°æ˜¯ä¸ªé—­åŒ…, å› æ­¤è°ƒç”¨ withAnimation æ—¶å¯ä»¥ç›´æ¥å°†å‚æ•°é—­åŒ…æ”¾äºå‡½æ•°ä½“å†…, ä»è€Œçœç•¥äº†åœ†æ‹¬å·, è¿™ä¸ªè¯­æ³•ä¸Šé¢è®²äº†,  å¦å¤–è¿™é‡Œä¼ é€’é—­åŒ…çš„æ—¶å€™æˆ‘ä»¬è¿˜çœç•¥çš„é—­åŒ…çš„è¿”å›å€¼, å› ä¸ºå½“è¿”å›å€¼ä¸º Void, åŸæœ¬çš„å†™æ³•åº”è¯¥æ˜¯è¿™æ ·:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>withAnimation { () -&gt; Void <span style="color:#66d9ef">in</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// é—­åŒ…ä½“</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>æˆ‘ä»¬çœç•¥äº†é—­åŒ…çš„è¿”å›å€¼ç±»å‹, å³å¦‚ä¸‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>withAnimation {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// é—­åŒ…ä½“</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>withAnimation å®šä¹‰å¦‚ä¸‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">withAnimation</span>&lt;Result&gt;(
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">_</span> animation: Animation? = .<span style="color:#66d9ef">default</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">_</span> body: () <span style="color:#66d9ef">throws</span> -&gt; Result
</span></span><span style="display:flex;"><span>) <span style="color:#66d9ef">rethrows</span> -&gt; Result
</span></span></code></pre></div><p>å¯ä»¥çœ‹å‡ºwithAnimation æœ‰ä¸€ä¸ªè¿”å›å€¼, åˆ‡å‚æ•°é—­åŒ… body ä¹Ÿæœ‰è¿”å›å€¼, ä½†æ˜¯ä¸Šé¢æˆ‘ä»¬è°ƒç”¨  withAnimation æ—¶å´å¿½ç•¥äº†é—­åŒ…çš„è¿”å›å€¼, è¿™æ˜¯å› ä¸º <code>&lt;Result&gt;</code> å¯ä»¥ä¸ºä»»ä½•ç±»å‹, æ‰€ä»¥ä¹Ÿå¯ä»¥ä¸º Viod, è¿™æ˜¯æ³›å‹çš„ç”¨æ³•.</p>
<h2 id="3-functions">3. Functions<a href="#3-functions" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<h3 id="31-variadic-parameters">3.1. Variadic Parameters<a href="#31-variadic-parameters" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<p>A <em>variadic parameter</em> accepts zero or more values of a specified type.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">total</span>(<span style="color:#66d9ef">_</span> numbers: Double...) -&gt; Double {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> total: Double = <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> number <span style="color:#66d9ef">in</span> numbers {
</span></span><span style="display:flex;"><span>        total <span style="color:#f92672">+=</span> number
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> total
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>total(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>) <span style="color:#75715e">// 6</span>
</span></span></code></pre></div><h3 id="32-in-out-parameters">3.2. In-Out Parameters<a href="#32-in-out-parameters" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<p>Function parameters are constants by default. Trying to change the value of a function parameter from within the body of that function results in a compile-time error.</p>
<p>If you want a function to modify a parameterâ€™s value, and you want those changes to persist after the function call has ended, define that parameter as an <em>in-out parameter</em> instead.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">swapTwoInts</span>(<span style="color:#66d9ef">_</span> a: <span style="color:#66d9ef">inout</span> Int, <span style="color:#66d9ef">_</span> b: <span style="color:#66d9ef">inout</span> Int) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> temporaryA = a
</span></span><span style="display:flex;"><span>    a = b
</span></span><span style="display:flex;"><span>    b = temporaryA
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> someInt = <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> anotherInt = <span style="color:#ae81ff">107</span>
</span></span><span style="display:flex;"><span>swapTwoInts(&amp;someInt, &amp;anotherInt)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;someInt is now </span><span style="color:#e6db74">\(</span>someInt<span style="color:#e6db74">)</span><span style="color:#e6db74">, and anotherInt is now </span><span style="color:#e6db74">\(</span>anotherInt<span style="color:#e6db74">)</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Prints &#34;someInt is now 107, and anotherInt is now 3&#34;</span>
</span></span></code></pre></div><h2 id="4-opaque-type">4. Opaque type<a href="#4-opaque-type" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>A function or method that returns an opaque type <strong>hides</strong> its return valueâ€™s <strong>type information</strong>. Instead of providing a concrete type as the functionâ€™s return type, the return value is described in terms of the protocols it supports.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">protocol</span> <span style="color:#a6e22e">Animal</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">makeSound</span>() -&gt; String
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Dog</span>: Animal {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">makeSound</span>() -&gt; String {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Woof&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Cat</span>: Animal {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">makeSound</span>() -&gt; String {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Meow&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Although we know that it returns either a Cat or a Dog, the exact type is hidden.</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">getAnimal</span>() -&gt; some Animal {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> Dog()
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> myCar: some Vehicle = Car()
</span></span><span style="display:flex;"><span>myCar = Car() <span style="color:#75715e">// ğŸ”´ Compile error: Cannot assign value of type &#39;Car&#39; to type &#39;some Vehicle&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> myCar1: some Vehicle = Car()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> myCar2: some Vehicle = Car()
</span></span><span style="display:flex;"><span>myCar2 = myCar1 <span style="color:#75715e">// ğŸ”´ Compile error: Cannot assign value of type &#39;some Vehicle&#39; (type of &#39;myCar1&#39;) to type &#39;some Vehicle&#39; (type of &#39;myCar2&#39;)</span>
</span></span></code></pre></div><ul>
<li><a href="https://swiftsenpai.com/swift/understanding-some-and-any/">Understanding the &ldquo;some&rdquo; and &ldquo;any&rdquo; keywords in Swift 5.7 - Swift Senpai</a></li>
<li><a href="https://reintech.io/blog/understanding-using-swifts-opaque-types">How to use Swift&rsquo;s opaque types | Reintech media</a></li>
</ul>
<h2 id="6-result-builders">6. Result Builders<a href="#6-result-builders" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">makeSentence1</span>() -&gt; String { 
</span></span><span style="display:flex;"><span>     <span style="color:#75715e">// single expression, implicit return</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Why settle for a Duke when you can have a Prince?&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(makeSentence1())
</span></span></code></pre></div><p>That works great, but what if had several strings we wanted to join together? Just like SwiftUI, we might want to provide them all individually and have Swift figure it out, however this kind of code wonâ€™t work:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">// This is invalid Swift, and will not compile.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// func makeSentence2() -&gt; String {</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//     &#34;Why settle for a Duke&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//     &#34;when you can have&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//     &#34;a Prince?&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// }</span>
</span></span></code></pre></div><p>By itself, that code wonâ€™t work because Swift no longer understands what we mean. However, we could create a result builder that understands how to convert several strings into one string using whatever transformation we want, like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>@resultBuilder
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">SimpleStringBuilder</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">buildBlock</span>(<span style="color:#66d9ef">_</span> parts: String...) -&gt; String {
</span></span><span style="display:flex;"><span>        parts.joined(separator: <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Thereâ€™s nothing to stop us from using <code>SimpleStringBuilder.buildBlock()</code> directly, like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> joined = SimpleStringBuilder.buildBlock(
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Why settle for a Duke&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;when you can have&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;a Prince?&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(joined)
</span></span></code></pre></div><p>However, because we used the <code>@resultBuilder</code> annotation with our <code>SimpleStringBuilder</code> struct, we can also apply that to functions, like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>@SimpleStringBuilder <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">makeSentence3</span>() -&gt; String {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Why settle for a Duke&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;when you can have&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;a Prince?&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(makeSentence3())
</span></span></code></pre></div><p>References: <a href="https://www.hackingwithswift.com/swift/5.4/result-builders">Result builders â€“ available from Swift 5.4</a></p>

      </div></div>

  
    
<div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h">æŸ¥çœ‹å…¶ä»–æ–‡ç« </span>
    <hr />
  </div>
  <div class="pagination__buttons">
    
      <a href="https://blog.jiyi27.com/posts/ios/swift/002-functions/" class="button inline prev">
        Swift Functions
      </a>
    
    
      ::
    
    
      <a href="https://blog.jiyi27.com/posts/frontend/styling-css/000-css-basics/" class="button inline next">
        HTML Elements
      </a>
    
  </div>
</div>


  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/jiyi27/jiyi27.github.io" target="_blank">Theme</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
