<!DOCTYPE html>
<html lang="en">
<head>
  
    
    <title>虚拟内存 :: 为霜的博客</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="1. Virtual Memory Virtual memory is a memory management technique that gives applications the impression that they have contiguous working memory (a continuous and complete address space), even though physical memory may be fragmented and some data may be temporarily stored on external disk storage, being swapped between them as needed.
A memory management unit (MMU) is a computer hardware unit that examines all memory references on the memory bus, translating these requests, known as virtual memory addresses, into physical addresses in main memory. Memory management unit
" />
<meta name="keywords" content="" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="https://blog.jiyi27.com/posts/cs-basics/008-virtual-memory/" />





  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/buttons.min.2bc533403a27dfe0e93105a92502b42ce4587e2e4a87d9f7d349e51e16e09478.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/categories.min.3202f75cbb294747099af3850a68a09ee94b3ce505fc39e134692d90ff0a9b2a.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/code.min.dd73d157e77e82a3dc1cb06ba424cf6cc6811af0bb604ad6c68e70faf2439c8a.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/fonts.min.4881f0c525f3ce2a1864fb6e96676396cebe1e6fcef1933e8e1dde7041004fb5.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/footer.min.2e3eb191baee58dd05a9f0104ac1fab0827bca7c64dafe0b2579f934c33a1d69.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/header.min.b6fb4423cf82a9f9d7abc9cd010223fa3d70a6526a3f28f8e17d814c06e18f9e.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/main.min.3fb8954e26342ad3afabb4525959bfec6f9fc0d6929f0dda738ddeee30211690.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/menu.min.8cee75f73b9f9b1e40bd0dd53e6e770156b08bbfe1c579cd256c3f6cd3b6d32b.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/pagination.min.82f6400eae7c7c6dc3c866733c2ec0579e4089608fea69400ff85b3880aa0d3c.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/post.min.014a50745fbdd41d5f420a3e288730d5af4b7d90344dc6211d0e50c368b5b303.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/prism.min.b958d3d7c6c67361b945f9062d07d403422604b3d2cd33f93b88d41ed0ba634d.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/term.min.94de320c1b850e126e6d2c88a7c90acf58bb1313f0ea14a14cda2a42f2a88db2.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">


<link rel="stylesheet" href="https://blog.jiyi27.com/terminal.css">




<link rel="shortcut icon" href="https://blog.jiyi27.com/favicon.png">
<link rel="apple-touch-icon" href="https://blog.jiyi27.com/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="虚拟内存">
<meta property="og:description" content="1. Virtual Memory Virtual memory is a memory management technique that gives applications the impression that they have contiguous working memory (a continuous and complete address space), even though physical memory may be fragmented and some data may be temporarily stored on external disk storage, being swapped between them as needed.
A memory management unit (MMU) is a computer hardware unit that examines all memory references on the memory bus, translating these requests, known as virtual memory addresses, into physical addresses in main memory. Memory management unit
" />
<meta property="og:url" content="https://blog.jiyi27.com/posts/cs-basics/008-virtual-memory/" />
<meta property="og:site_name" content="为霜的博客" />

  <meta property="og:image" content="https://blog.jiyi27.com/og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">

  <meta property="article:section" content="计算机基础" />


  <meta property="article:published_time" content="2025-01-22 14:58:10 &#43;0000 UTC" />












</head>
<body>


<div class="container center">

  
  
  

  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="https://blog.jiyi27.com/posts/cs-basics/008-virtual-memory/">虚拟内存</a>
  </h1>
  <div class="post-meta"><time class="post-date">2025-01-22</time><span class="post-reading-time">3 分钟阅读 (478 字数)</span></div>

  
    <span class="post-tags">
      
      #<a href="https://blog.jiyi27.com/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">计算机基础</a>&nbsp;
      
      #<a href="https://blog.jiyi27.com/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a>&nbsp;
      
    </span>
  
  


  

  <div class="post-content"><div>
        <h2 id="1-virtual-memory">1. Virtual Memory<a href="#1-virtual-memory" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>Virtual memory is a memory management technique that gives applications the impression that they have contiguous working memory (a continuous and complete address space), even though physical memory may be fragmented and some data may be temporarily stored on external disk storage, being swapped between them as needed.</p>
<blockquote>
<p>A memory management unit (MMU) is <strong>a computer hardware unit</strong> that examines all memory references on the memory bus, translating these requests, known as virtual memory addresses, into physical addresses in main memory. <a href="https://en.wikipedia.org/wiki/Memory_management_unit">Memory management unit</a></p>
</blockquote>
<pre tabindex="0"><code class="language-risc" data-lang="risc">ld r1, 400(r2)
</code></pre><p>This instruction means to load data into register r1 from the address calculated by adding an offset of 400 to the content of register r2.</p>
<ol>
<li>Calculate the Virtual Address:
<ul>
<li>Assume the register r2 currently holds the virtual address 0x1000 (4096 in decimal).</li>
<li>The offset 400 (0x190) is added to the content of r2.</li>
<li>Therefore, the calculated virtual address is 0x1000 + 0x190 = 0x1190 (virtual address).</li>
</ul>
</li>
<li>Virtual to Physical Address Translation:
<ul>
<li>The MMU receives the virtual address 0x1190 and begins to look up the page table for the current process.</li>
<li>Suppose the page table entry shows that this virtual address maps to the physical address 0x5000.</li>
<li>The page offset (offset within the page) remains 0x190.</li>
<li>Thus, the complete physical address is 0x5000 + 0x190 = 0x5190.</li>
</ul>
</li>
<li>Access Physical Memory and Execute Instruction:
<ul>
<li>Once the physical address is determined, the MMU instructs the system to load data from physical address 0x5190.</li>
<li>The data is loaded into register r1.</li>
</ul>
</li>
</ol>
<h2 id="2-how-does-virtual-memory-work">2. How Does Virtual Memory Work<a href="#2-how-does-virtual-memory-work" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>RISC is a type of microprocessor design. Both MIPS and ARM are types of RISC architectures. MIPS gives each program its own 32-bit address space. Programs can only access any byte in their own address space.</p>
<ol>
<li>What if we don&rsquo;t have enough memory?</li>
<li>Holes in our address space?</li>
<li>Keeping programs secure with virtual memory.</li>
</ol>
<p><a href="https://www.youtube.com/watch?v=59rEMnKWoS4&amp;list=PLiwt1iVUib9s2Uo5BeYmwkDFUh70fJPxX&amp;index=4">Virtual Memory: 4 How Does Virtual Memory Work?</a></p>
<h2 id="3-how-does-a-game-that-is-several-hundred-gigabytes-run-on-a-computer-with-only-a-few-gigabytes-of-memory">3. How does a game that is several hundred gigabytes run on a computer with only a few gigabytes of memory?<a href="#3-how-does-a-game-that-is-several-hundred-gigabytes-run-on-a-computer-with-only-a-few-gigabytes-of-memory" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>It&rsquo;s Not All Loaded at Once:</p>
<ul>
<li>Games, even huge ones, don&rsquo;t need all their data in memory at the same time. Think of a vast open-world game: you only need the data for the area immediately around your character.</li>
<li>The game constantly loads and unloads data as you move through the world. This is called <strong>streaming</strong>.</li>
<li>The operating system (OS) swaps data between your RAM and your storage drive (HDD or SSD). This means less frequently used game data sits on the drive until needed.</li>
</ul>
<h2 id="4-segment-fault">4. Segment Fault<a href="#4-segment-fault" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>A segmentation fault is a specific type of error that occurs when a program tries to access a segment of memory that it doesn’t have the permissions to access or that doesn’t exist, leading to the program’s abrupt termination by the operating system.</p>
<p><a href="https://www.percona.com/blog/segmentation-fault-a-dba-perspective/">Understanding Segmentation Fault: What it is &amp; How to Fix it</a></p>

      </div></div>

  
    
<div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h">查看其他文章</span>
    <hr />
  </div>
  <div class="pagination__buttons">
    
      <a href="https://blog.jiyi27.com/posts/interview/%E5%90%8E%E7%AB%AF/003-nuggets-backend/" class="button inline prev">
        后端八股文
      </a>
    
    
      ::
    
    
      <a href="https://blog.jiyi27.com/posts/interview/%E5%90%8E%E7%AB%AF/001-qps-pv/" class="button inline next">
        QPS TPS PV 等概念
      </a>
    
  </div>
</div>


  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/jiyi27/jiyi27.github.io" target="_blank">Theme</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
