<!DOCTYPE html>
<html lang="en">
<head>
  
    
    <title>Tools Commonly Used in Networking :: 为霜的博客</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="1. nslookup 1.1. Query A Record # basic DNS lookup $ nslookup google.com Server:	192.168.2.1 Address:	192.168.2.1#53 Non-authoritative answer: Name:	google.com Address: 142.250.81.238 1.2. Reverse DNS look-up $ nslookup 18.219.46.189 Server:	192.168.2.1 Address:	192.168.2.1#53 Non-authoritative answer: 189.46.219.18.in-addr.arpa	name = ec2-18-219-46-189.us-east-2.compute.amazonaws.com. Authoritative answers can be found from: 46.219.18.in-addr.arpa	nameserver = ns1-24-us-east-2.ec2-rdns.amazonaws.com. 1.3. Query name server $ nslookup -type=ns google.com Server:	192.168.2.1 Address:	192.168.2.1#53 Non-authoritative answer: google.com	nameserver = ns1.google.com. google.com	nameserver = ns3.google.com. .... When using the nslookup utility to query Domain Name System (DNS) servers, you could see the message “Non-authoritative answer.” This tells you that the DNS server you’re asking can’t ensure that it has the official, up-to-date information for the domain name or IP address you’re seeking up and is instead giving you a cached response that it got from another DNS server.
" />
<meta name="keywords" content="" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="https://blog.jiyi27.com/posts/networking/006-commands-in-network/" />





  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/buttons.min.2bc533403a27dfe0e93105a92502b42ce4587e2e4a87d9f7d349e51e16e09478.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/categories.min.3202f75cbb294747099af3850a68a09ee94b3ce505fc39e134692d90ff0a9b2a.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/code.min.dd73d157e77e82a3dc1cb06ba424cf6cc6811af0bb604ad6c68e70faf2439c8a.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/fonts.min.4881f0c525f3ce2a1864fb6e96676396cebe1e6fcef1933e8e1dde7041004fb5.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/footer.min.2e3eb191baee58dd05a9f0104ac1fab0827bca7c64dafe0b2579f934c33a1d69.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/header.min.b6fb4423cf82a9f9d7abc9cd010223fa3d70a6526a3f28f8e17d814c06e18f9e.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/main.min.3fb8954e26342ad3afabb4525959bfec6f9fc0d6929f0dda738ddeee30211690.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/menu.min.8cee75f73b9f9b1e40bd0dd53e6e770156b08bbfe1c579cd256c3f6cd3b6d32b.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/pagination.min.82f6400eae7c7c6dc3c866733c2ec0579e4089608fea69400ff85b3880aa0d3c.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/post.min.014a50745fbdd41d5f420a3e288730d5af4b7d90344dc6211d0e50c368b5b303.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/prism.min.b958d3d7c6c67361b945f9062d07d403422604b3d2cd33f93b88d41ed0ba634d.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/term.min.94de320c1b850e126e6d2c88a7c90acf58bb1313f0ea14a14cda2a42f2a88db2.css">

  
  <link rel="stylesheet" href="https://blog.jiyi27.com/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">


<link rel="stylesheet" href="https://blog.jiyi27.com/terminal.css">




<link rel="shortcut icon" href="https://blog.jiyi27.com/favicon.png">
<link rel="apple-touch-icon" href="https://blog.jiyi27.com/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Tools Commonly Used in Networking">
<meta property="og:description" content="1. nslookup 1.1. Query A Record # basic DNS lookup $ nslookup google.com Server:	192.168.2.1 Address:	192.168.2.1#53 Non-authoritative answer: Name:	google.com Address: 142.250.81.238 1.2. Reverse DNS look-up $ nslookup 18.219.46.189 Server:	192.168.2.1 Address:	192.168.2.1#53 Non-authoritative answer: 189.46.219.18.in-addr.arpa	name = ec2-18-219-46-189.us-east-2.compute.amazonaws.com. Authoritative answers can be found from: 46.219.18.in-addr.arpa	nameserver = ns1-24-us-east-2.ec2-rdns.amazonaws.com. 1.3. Query name server $ nslookup -type=ns google.com Server:	192.168.2.1 Address:	192.168.2.1#53 Non-authoritative answer: google.com	nameserver = ns1.google.com. google.com	nameserver = ns3.google.com. .... When using the nslookup utility to query Domain Name System (DNS) servers, you could see the message “Non-authoritative answer.” This tells you that the DNS server you’re asking can’t ensure that it has the official, up-to-date information for the domain name or IP address you’re seeking up and is instead giving you a cached response that it got from another DNS server.
" />
<meta property="og:url" content="https://blog.jiyi27.com/posts/networking/006-commands-in-network/" />
<meta property="og:site_name" content="为霜的博客" />

  <meta property="og:image" content="https://blog.jiyi27.com/og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">

  <meta property="article:section" content="计算机网络" />


  <meta property="article:published_time" content="2023-10-31 15:23:08 &#43;0000 UTC" />












</head>
<body>


<div class="container center">

  
  
  

  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="https://blog.jiyi27.com/posts/networking/006-commands-in-network/">Tools Commonly Used in Networking</a>
  </h1>
  <div class="post-meta"><time class="post-date">2023-10-31</time><span class="post-reading-time">3 分钟阅读 (598 字数)</span></div>

  
    <span class="post-tags">
      
      #<a href="https://blog.jiyi27.com/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>&nbsp;
      
      #<a href="https://blog.jiyi27.com/tags/dns/">dns</a>&nbsp;
      
    </span>
  
  


  

  <div class="post-content"><div>
        <h2 id="1-nslookup">1. <code>nslookup</code><a href="#1-nslookup" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<h3 id="11-query-a-record">1.1. Query <code>A Record</code><a href="#11-query-a-record" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># basic DNS lookup</span>
</span></span><span style="display:flex;"><span>$ nslookup google.com                             
</span></span><span style="display:flex;"><span>Server:		192.168.2.1
</span></span><span style="display:flex;"><span>Address:	192.168.2.1#53
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Non-authoritative answer:
</span></span><span style="display:flex;"><span>Name:	google.com
</span></span><span style="display:flex;"><span>Address: 142.250.81.238
</span></span></code></pre></div><h3 id="12-reverse-dns-look-up">1.2. Reverse DNS look-up<a href="#12-reverse-dns-look-up" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ nslookup 18.219.46.189                          
</span></span><span style="display:flex;"><span>Server:		192.168.2.1
</span></span><span style="display:flex;"><span>Address:	192.168.2.1#53
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Non-authoritative answer:
</span></span><span style="display:flex;"><span>189.46.219.18.in-addr.arpa	name <span style="color:#f92672">=</span> ec2-18-219-46-189.us-east-2.compute.amazonaws.com.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Authoritative answers can be found from:
</span></span><span style="display:flex;"><span>46.219.18.in-addr.arpa	nameserver <span style="color:#f92672">=</span> ns1-24-us-east-2.ec2-rdns.amazonaws.com.
</span></span></code></pre></div><h3 id="13-query-name-server">1.3. Query name server<a href="#13-query-name-server" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ nslookup -type<span style="color:#f92672">=</span>ns google.com
</span></span><span style="display:flex;"><span>Server:		192.168.2.1
</span></span><span style="display:flex;"><span>Address:	192.168.2.1#53
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Non-authoritative answer:
</span></span><span style="display:flex;"><span>google.com	nameserver <span style="color:#f92672">=</span> ns1.google.com.
</span></span><span style="display:flex;"><span>google.com	nameserver <span style="color:#f92672">=</span> ns3.google.com.
</span></span><span style="display:flex;"><span>....
</span></span></code></pre></div><p>When using the nslookup utility to query Domain Name System (DNS) servers, you could see the message “Non-authoritative answer.” This tells you that the DNS server you’re asking can’t ensure that it has the official, up-to-date information for the domain name or IP address you’re seeking up and is instead giving you a cached response that it got from another DNS server.</p>
<p>Please note that getting non-authoritative answers doesn&rsquo;t mean incorrect or unreliable. However, if you need the <strong>most accurate and up-to-date information</strong>, it is recommended to use authoritative DNS servers for queries.</p>
<p>Reference:</p>
<p><a href="https://www.geeksforgeeks.org/nslookup-command-in-linux-with-examples/">Nslookup Command in Linux with Examples - GeeksforGeeks</a></p>
<p><a href="https://ioflood.com/blog/what-is-the-meaning-of-non-authoritative-answer-given-by-nslookup-dns-demystified/">Why is “Non-authoritative answer” given by nslookup? DNS Explained</a></p>
<h3 id="14-get-authoritative-answer">1.4. Get authoritative answer<a href="#14-get-authoritative-answer" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<p><strong>Step 1:</strong> Use the <code>nslookup</code> command to query the SOA (Start of Authority) record of the domain name. The SOA record contains information about the authoritative name servers for the domain.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ nslookup -type<span style="color:#f92672">=</span>soa davidzhu.xyz
</span></span><span style="display:flex;"><span>Non-authoritative answer:
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Authoritative answers can be found from:
</span></span><span style="display:flex;"><span>davidzhu.xyz	nameserver <span style="color:#f92672">=</span> ns1.dnsowl.com.
</span></span><span style="display:flex;"><span>davidzhu.xyz	nameserver <span style="color:#f92672">=</span> ns2.dnsowl.com.
</span></span><span style="display:flex;"><span>davidzhu.xyz	nameserver <span style="color:#f92672">=</span> ns3.dnsowl.com.
</span></span></code></pre></div><p><strong>Step 2:</strong> Identify the primary name server from previous response:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>❯ nslookup davidzhu.xyz ns1.dnsowl.com
</span></span><span style="display:flex;"><span>Server:		ns1.dnsowl.com
</span></span><span style="display:flex;"><span>Address:	162.159.27.173#53
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name:	davidzhu.xyz
</span></span><span style="display:flex;"><span>Address: 185.199.108.153
</span></span></code></pre></div><h2 id="2-dig">2. <code>dig</code><a href="#2-dig" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p><strong>dig</strong> command stands for <em><strong>Domain Information Groper</strong></em>. It is used for retrieving information about DNS name servers. Dig command replaces older tools such as <a href="https://www.geeksforgeeks.org/nslookup-command-in-linux-with-examples/">nslooku</a>p and the <a href="https://www.geeksforgeeks.org/host-command-in-linux-with-examples/">host</a>.</p>
<h3 id="21-query-a-record">2.1. Query <code>A Record</code><a href="#21-query-a-record" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<p>To query domain “A” record with <code>+short</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ dig geeksforgeeks.org +short
</span></span><span style="display:flex;"><span>34.218.62.116
</span></span></code></pre></div><p>Specify DNS server:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ dig geeksforgeeks.org +short @8.8.8.8
</span></span></code></pre></div><blockquote>
<p>By default, dig command will query the name servers listed in “/etc/resolv.conf” to perform a DNS lookup. We can change it by using @ symbol followed by a hostname or IP address of the name server.</p>
<p>Learn more about <code>/etc/resolv.conf</code> and <code>/etc/hosts</code>: <a href="https://davidzhu.xyz/post/networking/002-host-file-dns-stub-resolver/">DNS Stub and Recursive Resolver - Config Files - David&rsquo;s Blog</a></p>
</blockquote>
<h3 id="22-reverse-dns-lookup">2.2. Reverse DNS lookup<a href="#22-reverse-dns-lookup" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>❯ dig -x 18.219.46.189 +short
</span></span><span style="display:flex;"><span>ec2-18-219-46-189.us-east-2.compute.amazonaws.com.
</span></span></code></pre></div><h3 id="23-query-name-server">2.3. Query name server<a href="#23-query-name-server" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>❯ dig davidzhu.xyz NS +short
</span></span><span style="display:flex;"><span>ns1.dnsowl.com.
</span></span><span style="display:flex;"><span>ns2.dnsowl.com.
</span></span><span style="display:flex;"><span>ns3.dnsowl.com.
</span></span></code></pre></div><h2 id="3-dig-vs-nslookup">3. dig vs nslookup<a href="#3-dig-vs-nslookup" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<ol>
<li><code>dig</code> Process:
<ul>
<li><code>dig</code> follows the standard DNS resolution process, starting with a query to the <strong>root name servers</strong> to obtain the list of TLD name servers.</li>
<li>It then queries a TLD name server to obtain the authoritative name servers for the domain.</li>
<li>After obtaining the <strong>authoritative name servers</strong>, <code>dig</code> sends a direct query to one of these name servers to retrieve the A record for the domain.</li>
<li>The response obtained from <code>dig</code> is typically authoritative, as it comes directly from the authoritative name server responsible for the domain.</li>
</ul>
</li>
<li><code>nslookup</code> Process:
<ul>
<li><code>nslookup</code> queries the DNS server configured on the local system by default. This DNS server may be provided by the ISP or manually configured.</li>
<li>The response from <code>nslookup</code> may be non-authoritative, indicating that the DNS server providing the response is not the authoritative server for the queried domain. It may have obtained the response from its cache or forwarded the query to another DNS server.</li>
</ul>
</li>
</ol>
<p>In summary, <code>dig</code> directly queries authoritative name servers to obtain DNS information, resulting in authoritative responses. On the other hand, <code>nslookup</code> queries the local DNS server, which may or may not provide authoritative responses, depending on its configuration and the nature of the query.</p>

      </div></div>

  
    
<div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h">查看其他文章</span>
    <hr />
  </div>
  <div class="pagination__buttons">
    
      <a href="https://blog.jiyi27.com/posts/networking/005-gfw-dns/" class="button inline prev">
        DNS Spoofing - GFW
      </a>
    
    
      ::
    
    
      <a href="https://blog.jiyi27.com/posts/networking/002-dns-basics/" class="button inline next">
        DNS Concepts (NameServer(NS), DNS Records and Caching)
      </a>
    
  </div>
</div>


  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/jiyi27/jiyi27.github.io" target="_blank">Theme</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
