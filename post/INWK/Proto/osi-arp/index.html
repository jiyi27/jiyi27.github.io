<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>OSI Model &amp; ARP Format &amp; RARP - 课堂笔记 - David&#39;s Blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="David" /><meta name="description" content="OSI 和 TCP/IP 模型 ARP 是 Data Link layer 的协议, 先看一下 OSI 模型: Physical layer WiFi (802.11) operates at the first two layers of the OSI model, in other words, the physical layer and the data link layer. Data Link layer WiFi (802.11) ARP (Address Resolution Protocol) Network layer IP (Internet Protocol) ICMP (Internet Control Message Protocol) Transport layer TCP (Transmission" />






<meta name="generator" content="Hugo 0.111.3 with theme even" />


<link rel="canonical" href="https://shaowenzhu.top/post/inwk/proto/osi-arp/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="OSI Model &amp; ARP Format &amp; RARP - 课堂笔记" />
<meta property="og:description" content="OSI 和 TCP/IP 模型 ARP 是 Data Link layer 的协议, 先看一下 OSI 模型: Physical layer WiFi (802.11) operates at the first two layers of the OSI model, in other words, the physical layer and the data link layer. Data Link layer WiFi (802.11) ARP (Address Resolution Protocol) Network layer IP (Internet Protocol) ICMP (Internet Control Message Protocol) Transport layer TCP (Transmission" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://shaowenzhu.top/post/inwk/proto/osi-arp/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-06-27T19:39:36+00:00" />
<meta property="article:modified_time" content="2023-06-27T19:39:36+00:00" />
<meta itemprop="name" content="OSI Model &amp; ARP Format &amp; RARP - 课堂笔记">
<meta itemprop="description" content="OSI 和 TCP/IP 模型 ARP 是 Data Link layer 的协议, 先看一下 OSI 模型: Physical layer WiFi (802.11) operates at the first two layers of the OSI model, in other words, the physical layer and the data link layer. Data Link layer WiFi (802.11) ARP (Address Resolution Protocol) Network layer IP (Internet Protocol) ICMP (Internet Control Message Protocol) Transport layer TCP (Transmission"><meta itemprop="datePublished" content="2023-06-27T19:39:36+00:00" />
<meta itemprop="dateModified" content="2023-06-27T19:39:36+00:00" />
<meta itemprop="wordCount" content="1126">
<meta itemprop="keywords" content="inwk," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="OSI Model &amp; ARP Format &amp; RARP - 课堂笔记"/>
<meta name="twitter:description" content="OSI 和 TCP/IP 模型 ARP 是 Data Link layer 的协议, 先看一下 OSI 模型: Physical layer WiFi (802.11) operates at the first two layers of the OSI model, in other words, the physical layer and the data link layer. Data Link layer WiFi (802.11) ARP (Address Resolution Protocol) Network layer IP (Internet Protocol) ICMP (Internet Control Message Protocol) Transport layer TCP (Transmission"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">David&#39;s Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">David&#39;s Blog</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">OSI Model &amp; ARP Format &amp; RARP - 课堂笔记</h1>

      <div class="post-meta">
        <span class="post-time"> 2023-06-27 </span>
        <div class="post-category">
            <a href="/categories/inwk/"> inwk </a>
            <a href="/categories/proto/"> proto </a>
            </div>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#osi-和-tcpip-模型">OSI 和 TCP/IP 模型</a></li>
        <li><a href="#arp">ARP</a></li>
        <li><a href="#rarp">RARP</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h2 id="osi-和-tcpip-模型">OSI 和 TCP/IP 模型</h2>
<p>ARP 是 Data Link layer 的协议, 先看一下 <strong>OSI 模型</strong>:</p>
<ul>
<li>Physical layer
<ul>
<li>WiFi (802.11) operates at the first two layers of the OSI model, in other words, the physical layer and the data link layer.</li>
</ul>
</li>
<li>Data Link layer
<ul>
<li>WiFi (802.11)</li>
<li>ARP (Address Resolution Protocol)</li>
</ul>
</li>
<li>Network layer
<ul>
<li>IP (Internet Protocol)</li>
<li>ICMP (Internet Control Message Protocol)</li>
</ul>
</li>
<li>Transport layer
<ul>
<li>TCP (Transmission Control Protocol)</li>
<li>UDP (User Datagram Protocol)</li>
</ul>
</li>
<li>Session layer</li>
<li>Presentation layer</li>
<li>Application layer
<ul>
<li>HTTP - for web applications</li>
<li>FTP - for file transfer</li>
<li>DNS - converts hostnames to IP addresses</li>
<li>SMTP - for email</li>
</ul>
</li>
</ul>
<p><strong>TCP 模型</strong>:</p>
<ul>
<li>Network Access layer, combines the physical and data link layers of the OSI model.</li>
<li>Internet layer</li>
<li>Transport layer</li>
<li>Application layer, combines the session, presentation and application layers in OSI.</li>
</ul>
<p>了解了每一层都是什么, 以及每个协议工作在哪一层, 有便于对协议的信息格式有个整体的把握, 比如知道 ARP 协议工作在 data link 层, 而 IP 协议在 data link 之上, 所以 ARP 信息肯定包括 IP 地址等信息,</p>
<h2 id="arp">ARP</h2>
<p>The Address Resolution Protocol is a data link layer protocol used to map MAC addresses to IP addresses. All hosts on a network are located by their IP address, but NICs do not have IP addresses, they have MAC addresses.</p>
<p><img src="b.png" alt="b"></p>
<p><strong>Hardware type:</strong> This is 16 bits field defining the type of the network on which ARP is running. Ethernet is given type 1.</p>
<p><strong>Protocol type:</strong> This is 16 bits field defining the protocol. The value of this field for the IPv4 protocol is 0800H.</p>
<p><strong>Hardware length:</strong> This is an 8 bits field defining the length of the physical address in bytes. Ethernet is the value 6.</p>
<p><strong>Protocol length:</strong> This is an 8 bits field defining the length of the logical address in bytes. For the IPv4 protocol, the value is 4.</p>
<p><strong>Operation</strong> (<strong>request or reply):</strong> This is a 16 bits field defining the type of packet. Packet types are ARP request (1), and ARP reply (2).</p>
<p><strong>Sender hardware address:</strong> This is a variable length field defining the physical address of the sender. For example, for Ethernet, this field is 6 bytes long.</p>
<p><strong>Sender protocol address:</strong> This is also a variable length field defining the logical address of the sender For the IP protocol, this field is 4 bytes long.</p>
<p><strong>Target hardware address:</strong> This is a variable length field defining the physical address of the target. For Ethernet, this field is 6 bytes long. For the ARP request messages, this field is all Os because the sender does not know the physical address of the target.</p>
<p><strong>Target protocol address:</strong> This is also a variable length field defining the logical address of the target. For the IPv4 protocol, this field is 4 bytes long.</p>
<p>课本给的 Ethernet 类型的 ARP 格式:</p>
<p><img src="a.png" alt="a"></p>
<h2 id="rarp">RARP</h2>
<p>RARP协议的产生原因</p>
<p>ARP（地址解析协议）是设备通过自己知道的IP地址来获得自己不知道的物理地址的协议。假如一个设备不知道它自己的IP地址，但是知道自己的物理地址，网络上的无盘工作站就是这种情况，设备知道的只是网络接口卡上的物理地址。这种情况下应该怎么办呢？RARP（逆地址解析协议）正是针对这种情况的一种协议。</p>
<p>RARP以与ARP相反的方式工作。RARP发出要反向解析的物理地址并希望返回其对应的IP地址，应答包括由能够提供所需信息的RARP服务器发出的IP地址。虽然发送方发出的是广播信息，RARP规定只有RARP服务器能产生应答。许多网络指定多个RARP服务器，这样做既是为了平衡负载也是为了作为出现问题时的备份。</p>
<p>RARP协议的工作原理</p>
<p>（1）源主机发送一个本地的RARP广播，在此广播包中，声明自己的MAC地址并且请求任何收到此请求的RARP服务器分配一个IP地址；</p>
<p>（2）本地网段上的RARP服务器收到此请求后，检查其RARP列表，查找该MAC地址对应的IP地址；</p>
<p>（3）如果存在，RARP服务器就给源主机发送一个响应数据包并将此IP地址提供给对方主机使用；</p>
<p>（4）如果不存在，RARP服务器对此不做任何的响应；</p>
<p>（5）源主机收到从RARP服务器的响应信息，就利用得到的IP地址进行通讯；如果一直没有收到RARP服务器的响应信息，表示初始化失败。</p>
<p>参考:</p>
<ul>
<li><a href="https://www.ibm.com/docs/en/zos-basic-skills?topic=3-address-resolution-protocol-arp">Address Resolution Protocol (ARP) - IBM Documentation</a></li>
<li><a href="https://www.geeksforgeeks.org/arp-protocol-packet-format/">ARP Protocol Packet Format - GeeksforGeeks</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/107445582">网络：简述对ARP与RARP协议的认识 - 知乎</a></li>
</ul>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">David</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2023-06-27
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/inwk/">inwk</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/inwk/proto/udp-ipv4/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">UDP &amp; IPv4 Header - 课堂笔记</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/bugs/001-npm-install-locally/">
            <span class="next-text nav-default">解决 npm 无法安装 packages 到本地文件夹问题</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:shwezhu@qq.com" class="iconfont icon-email" title="email"></a>
      <a href="https://twitter.com/shwezhu" class="iconfont icon-twitter" title="twitter"></a>
      <a href="http://localhost:1313" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="https://github.com/shwezhu" class="iconfont icon-github" title="github"></a>
  <a href="https://shaowenzhu.top/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2023<span class="heart"><i class="iconfont icon-heart"></i></span><span>David</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>








</body>
</html>
