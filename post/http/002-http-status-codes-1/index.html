<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>HTTP Status Codes - David&#39;s Blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="David" /><meta name="description" content="2xx 200 OK: Request is okay, entity body contains requested resource. 201 Created: For requests that create server objects (e.g., PUT). The entity body of the response should contain the various URLs for referencing the created resource, with the Location header containing the most specific reference. The server must have created the object prior to sending this status code. Redirect 301: permanent redirect: 可能会修改请求" />






<meta name="generator" content="Hugo 0.123.7 with theme even" />


<link rel="canonical" href="https://davidzhu.xyz/post/http/002-http-status-codes-1/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="HTTP Status Codes" />
<meta property="og:description" content="2xx 200 OK: Request is okay, entity body contains requested resource. 201 Created: For requests that create server objects (e.g., PUT). The entity body of the response should contain the various URLs for referencing the created resource, with the Location header containing the most specific reference. The server must have created the object prior to sending this status code. Redirect 301: permanent redirect: 可能会修改请求" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://davidzhu.xyz/post/http/002-http-status-codes-1/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-10-26T15:30:05+00:00" />
<meta property="article:modified_time" content="2023-10-26T15:30:05+00:00" />

<meta itemprop="name" content="HTTP Status Codes">
<meta itemprop="description" content="2xx 200 OK: Request is okay, entity body contains requested resource. 201 Created: For requests that create server objects (e.g., PUT). The entity body of the response should contain the various URLs for referencing the created resource, with the Location header containing the most specific reference. The server must have created the object prior to sending this status code. Redirect 301: permanent redirect: 可能会修改请求"><meta itemprop="datePublished" content="2023-10-26T15:30:05+00:00" />
<meta itemprop="dateModified" content="2023-10-26T15:30:05+00:00" />
<meta itemprop="wordCount" content="1083">
<meta itemprop="keywords" content="http," /><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="HTTP Status Codes"/>
<meta name="twitter:description" content="2xx 200 OK: Request is okay, entity body contains requested resource. 201 Created: For requests that create server objects (e.g., PUT). The entity body of the response should contain the various URLs for referencing the created resource, with the Location header containing the most specific reference. The server must have created the object prior to sending this status code. Redirect 301: permanent redirect: 可能会修改请求"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">David&#39;s Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">David&#39;s Blog</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">HTTP Status Codes</h1>

      <div class="post-meta">
        <span class="post-time"> 2023-10-26 </span>
        <div class="post-category">
            <a href="/categories/http/"> http </a>
            </div>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#2xx">2xx</a></li>
        <li><a href="#redirect">Redirect</a>
          <ul>
            <li><a href="#301-permanent-redirect-可能会修改请求方法">301: permanent redirect: 可能会修改请求方法</a></li>
            <li><a href="#303-temporary-redirect-修改请求方法为-get">303: temporary redirect: 修改请求方法为 GET</a></li>
            <li><a href="#307-temporary-redirect-不会修改请求方法和请求体">307: temporary redirect: 不会修改请求方法和请求体</a></li>
            <li><a href="#308-permanent-redirect-不修改请求方法和请求体">308: permanent redirect, 不修改请求方法和请求体</a></li>
            <li><a href="#redirect-code-mistakes">Redirect Code mistakes</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h2 id="2xx">2xx</h2>
<ul>
<li><strong>200 OK</strong>: Request is okay, entity body contains requested resource.</li>
<li><strong>201 Created</strong>: For requests that create server objects (e.g., PUT). The entity body of the response should contain the various URLs for referencing the created resource, with the <em>Location header</em> containing the most specific reference. The server must have created the object prior to sending this status code.</li>
</ul>
<h2 id="redirect">Redirect</h2>
<h3 id="301-permanent-redirect-可能会修改请求方法">301: permanent redirect: 可能会修改请求方法</h3>
<p>The HyperText Transfer Protocol (HTTP) 301 Moved Permanently redirect status response code indicates that the requested resource has been definitively moved to the URL given by the Location headers. A browser redirects to the new URL and search engines update their links to the resource. 根据描述可以看出, 301 是用来回复 GET 请求的, 与下面 303 刚好相反</p>
<blockquote>
<p>Although the specification requires the method and the body to remain unchanged when the redirection is performed, not all user-agents meet this requirement. Use the 301 code only as a response for GET or HEAD methods and use the 308 Permanent Redirect for POST methods instead, as the method change is explicitly prohibited with this status. <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/301">301 Moved Permanently - HTTP | MDN</a></p>
</blockquote>
<p>这段话指的是在处理 HTTP 重定向时，不同的状态码会对浏览器或用户代理（如 Web 浏览器）的行为有不同的指示，尤其是在处理 HTTP 方法（如 GET, POST, HEAD 等）和请求体的保留方面。</p>
<p>场景: 假设你有一个表单提交到 URL <code>http://example.com/form</code>，使用 POST 方法。由于某些原因，这个表单处理的 URL 永久变更到了 <code>http://example.com/new-form</code>。</p>
<p>常规做法: 使用 301 状态码来重定向到新的 URL。但是，根据 HTTP/1.0 标准，这可能会导致某些用户代理（特别是旧的浏览器或不完全遵循标准的客户端）在重定向时将 POST 请求改变为 GET 请求，这可能不是预期的行为。</p>
<p>场景: 同样的情况，表单从 <code>http://example.com/form</code> 移动到 <code>http://example.com/new-form</code>。</p>
<p>更安全的做法: 使用 308 Permanent Redirect。这个状态码明确禁止在重定向过程中改变请求方法。因此，如果原始请求是 POST，重定向后的请求也必须是 POST。这样可以确保重定向行为的一致性和预期性，不管用户代理是什么。</p>
<h3 id="303-temporary-redirect-修改请求方法为-get">303: temporary redirect: 修改请求方法为 GET</h3>
<ul>
<li>303: Seee Other, 看名字就可以知道是 303 是告诉浏览器去另一个页面, 注意是一个页面, 所以浏览器收到 303 请求后, 会用 GET 请求来访问重定向的 URL, 即使之前的请求是 POST 请求. 这个状态码经常是用来做表单提交后的重定向, 即用来回复 POST 和 PUT 请求.</li>
<li>The HyperText Transfer Protocol (HTTP) 303 See Other redirect status response code indicates that the redirects don&rsquo;t link to the requested resource itself, <strong>but to another page</strong> (such as a confirmation page, a representation of a real-world object). This response code is often sent back as a result of PUT or POST. The method used to display this redirected page is always GET.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/303">303 See Other - HTTP | MDN</a></li>
</ul>
<h3 id="307-temporary-redirect-不会修改请求方法和请求体">307: temporary redirect: 不会修改请求方法和请求体</h3>
<p>The method and the body of the original request are <strong>reused</strong> to perform the redirected request.</p>
<p>In the cases where you want the method used to <strong>be changed to GET</strong>, use 303 See Other instead. This is useful when you want to give an answer to a PUT method that is not the uploaded resources, but a confirmation message (like &ldquo;You successfully uploaded XYZ&rdquo;).</p>
<p>The only difference between 307 and 302 is that 307 guarantees that <strong>the method and the body</strong> will not be changed when the redirected request is made. With 302, some old clients were incorrectly changing the method to GET: the behavior with non-GET methods and 302 is then unpredictable on the Web, whereas the behavior with 307 is predictable. For GET requests, their behavior is identical.</p>
<p>Learn more: <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/307">307 Temporary Redirect - HTTP | MDN</a></p>
<h3 id="308-permanent-redirect-不修改请求方法和请求体">308: permanent redirect, 不修改请求方法和请求体</h3>
<p>The r<strong>equest method and the body</strong> will not be altered, whereas 301 may incorrectly sometimes be changed to a GET method.</p>
<p>Learn more: <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/308">308 Permanent Redirect - HTTP | MDN</a></p>
<h3 id="redirect-code-mistakes">Redirect Code mistakes</h3>
<p>Different redirect status code can <strong>cause browser behave differently</strong>.</p>
<p>An unauthorized user make a request to <code>/home </code> which needs authorized state to access, he will be redirect to <code>/login</code>, if server respond 308, then the unauthorized user will be redirect to <code>/login</code>, this woks fine. But 308 tell the brower all following http requests for <code>/home</code> need be redirected to <code>/login</code> even the user login successfully, you can clear the browser cache to reset, make sure don&rsquo;t repond a wrong status code.</p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">David</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2023-10-26
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/http/">http</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/js/practice/001-web-dev/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Tricks in Javascript</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/http/001-http-headers-1/">
            <span class="next-text nav-default">HTTP Headers (1)</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:shwezhu@qq.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/shwezhu" class="iconfont icon-github" title="github"></a>
  <a href="https://davidzhu.xyz/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2023 - 
    2024<span class="heart"><i class="iconfont icon-heart"></i></span><span>David</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>








</body>
</html>
